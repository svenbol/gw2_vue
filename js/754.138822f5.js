"use strict";(self["webpackChunkgw2_vue"]=self["webpackChunkgw2_vue"]||[]).push([[754],{6099:function(e,t,n){var r,i,o=n(655),a=n(4589),s=n(909),l=n(4964),u=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.LL("app","Firebase",u),h="@firebase/app",p="0.6.30",d="@firebase/analytics",f="@firebase/app-check",v="@firebase/auth",g="@firebase/database",_="@firebase/functions",y="@firebase/installations",A="@firebase/messaging",m="@firebase/performance",w="@firebase/remote-config",C="@firebase/storage",b="@firebase/firestore",E="firebase-wrapper",x="[DEFAULT]",k=(i={},i[h]="fire-core",i[d]="fire-analytics",i[f]="fire-app-check",i[v]="fire-auth",i[g]="fire-rtdb",i[_]="fire-fn",i[y]="fire-iid",i[A]="fire-fcm",i[m]="fire-perf",i[w]="fire-rc",i[C]="fire-gcs",i[b]="fire-fst",i["fire-js"]="fire-js",i[E]="fire-js-all",i),I=new l.Yd("@firebase/app"),T=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=x),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=x),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){I.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();T.prototype.name&&T.prototype.options||T.prototype.delete||console.log("dc");var S="8.10.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:o,registerVersion:d,setLogLevel:l.Ub,onLog:f,apps:null,SDK_VERSION:S,INTERNAL:{registerComponent:p,removeApp:i,components:n,useAsService:v}};function i(e){delete t[e]}function o(e){if(e=e||x,!(0,a.r3)(t,e))throw c.create("no-app",{appName:e});return t[e]}function u(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var s=i;void 0===s.name&&(s.name=x);var l=s.name;if("string"!==typeof l||!l)throw c.create("bad-app-name",{appName:String(l)});if((0,a.r3)(t,l))throw c.create("duplicate-app",{appName:l});var u=new e(n,s,r);return t[l]=u,u}function h(){return Object.keys(t).map((function(e){return t[e]}))}function p(i){var s=i.name;if(n.has(s))return I.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===i.type?r[s]:null;if(n.set(s,i),"PUBLIC"===i.type){var l=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[s])throw c.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==i.serviceProps&&(0,a.ZB)(l,i.serviceProps),r[s]=l,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,i.multipleInstances?e:[])}}for(var u=0,h=Object.keys(t);u<h.length;u++){var p=h[u];t[p]._addComponent(i)}return"PUBLIC"===i.type?r[s]:null}function d(e,t,n){var r,i=null!==(r=k[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var l=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void I.warn(l.join(" "))}p(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))}function f(e,t){if(null!==e&&"function"!==typeof e)throw c.create("invalid-log-argument");(0,l.Am)(e,t)}function v(e,t){if("serverAuth"===t)return null;var n=t;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:h}),o["App"]=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(){var e=P(T);function t(t){(0,a.ZB)(e,t)}return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:D,extendNamespace:t,createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}var N=D(),R=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map((function(e){if(O(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new R(e)}),"PRIVATE")),e.registerVersion(h,p,t),e.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,a.jU)()&&void 0!==self.firebase){I.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var L=self.firebase.SDK_VERSION;L&&L.indexOf("LITE")>=0&&I.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Q=N.initializeApp;N.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&I.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Q.apply(void 0,e)};var F=N;B(F),t["Z"]=F},909:function(e,t,n){n.d(t,{H0:function(){return c},wA:function(){return o},zt:function(){return s}});var r=n(655),i=n(4589),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(u(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(d){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),l=s[0],c=s[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch(d){}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var c=(0,r.CR)(u.value,2),h=c[0],p=c[1],d=this.normalizeInstanceIdentifier(h);a===d&&p.resolve(s)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var l=s.value;try{l(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:l(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(o){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function l(e){return e===a?void 0:e}function u(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},9446:function(e,t,n){var r=n(6099),i=n(909),o=n(4589),a=n(655),s=n(4964);e=n.hmd(e);var l="@firebase/database",u="0.11.0",c="";function h(e){c=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),d=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new p(t)}}catch(n){}return new d},v=f("localStorage"),g=f("sessionStorage"),_=new s.Yd("@firebase/database"),y=function(){var e=1;return function(){return e++}}(),A=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=m.apply(null,i):n+="object"===typeof i?(0,o.Pz)(i):i,n+=" "}return n},w=null,C=!0,b=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(_.logLevel=s["in"].VERBOSE,w=_.log.bind(_),t&&g.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,g.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===C&&(C=!1,null===w&&!0===g.get("logging_enabled")&&b(!0)),w){var n=m.apply(null,e);w(n)}},x=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));_.error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw _.error(n),new Error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));_.warn(n)},S=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},P=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},D=function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},N="[MIN_NAME]",R="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===N||t===R)return-1;if(t===N||e===R)return 1;var n=K(e),r=K(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},B=function(e,t){return e===t?0:e<t?-1:1},L=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},Q=function(e){if("object"!==typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=Q(e[t[i]]);return r+="}",r},F=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var q=function(e){(0,o.hu)(!P(e),"Invalid JSON number");var t,n,r,i,a,s=11,l=52,u=(1<<s-1)-1;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,1-u)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),u),n=i+u,r=Math.round(e*Math.pow(2,l-i)-Math.pow(2,l))):(n=0,r=Math.round(e/Math.pow(2,1-u-l))));var c=[];for(a=l;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(a=s;a;a-=1)c.push(n%2?1:0),n=Math.floor(n/2);c.push(t?1:0),c.reverse();var h=c.join(""),p="";for(a=0;a<64;a+=8){var d=parseInt(h.substr(a,8),2).toString(16);1===d.length&&(d="0"+d),p+=d}return p.toLowerCase()},z=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},j=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function U(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var H=new RegExp("^-?(0*)\\d{1,10}$"),W=-2147483648,Y=2147483647,K=function(e){if(H.test(e)){var t=Number(e);if(t>=W&&t<=Y)return t}return null},V=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw T("Exception was thrown by user callback.",e),t}),Math.floor(0))}},G=function(){var e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n},J=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){T('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),X=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',T(e)},e}(),$=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),ee="5",te="v",ne="s",re="r",ie="f",oe=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ae="ls",se="p",le="ac",ue="websocket",ce="long_polling",he=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=v.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&v.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function pe(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function de(e,t,n){var r;if((0,o.hu)("string"===typeof t,"typeof type must == string"),(0,o.hu)("object"===typeof n,"typeof params must == object"),t===ue)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ce)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}pe(e)&&(n["ns"]=e.namespace);var i=[];return M(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),ve={},ge={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){var t=e.toString();return ve[t]||(ve[t]=new fe),ve[t]}function ye(e,t){var n=e.toString();return ge[n]||(ge[n]=t()),ge[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;while(this.pendingResponses[this.currentResponseNum]){var o=r();if("break"===o)break}},e}(),me="start",we="close",Ce="pLPCommand",be="pRTLPCB",Ee="id",xe="pw",ke="ser",Ie="cb",Te="seg",Se="ts",Pe="d",De="dframe",Ne=1870,Re=30,Oe=Ne-Re,Be=25e3,Le=3e4,Qe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(e),this.stats_=_e(t),this.urlFn=function(e){return s.appCheckToken&&(e[le]=s.appCheckToken),de(t,ce,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(Le)),D((function(){if(!n.isClosed_){n.scriptTagHolder=new Fe((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===me)n.id=o,n.password=s;else{if(i!==we)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[me]="t",e[ke]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[Ie]=n.scriptTagHolder.uniqueCallbackIdentifier),e[te]=ee,n.transportSessionId&&(e[ne]=n.transportSessionId),n.lastSessionId&&(e[ae]=n.lastSessionId),n.applicationId&&(e[se]=n.applicationId),n.appCheckToken&&(e[le]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(e[re]=ie);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.Yr)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!z()&&!j())},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=F(n,Oe),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={};n[De]="t",n[Ee]=e,n[xe]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Fe=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window[Ce+this.uniqueCallbackIdentifier]=t,window[be+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var s=document.domain;a='<script>document.domain="'+s+'";<\/script>'}var l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){E("frame writing exception"),u.stack&&E(u.stack),E(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||E("No IE domain setting required")}catch(r){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[Ee]=this.myID,e[xe]=this.myPW,e[ke]=this.currentSerial;var t=this.urlFn(e),n="",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+Re+n.length<=Ne))break;var o=this.pendingSegs.shift();n=n+"&"+Te+r+"="+o.seg+"&"+Se+r+"="+o.ts+"&"+Pe+r+"="+o.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(Be)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Me=16384,qe=45e3,ze=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!==typeof MozWebSocket?ze=MozWebSocket:"undefined"!==typeof WebSocket&&(ze=WebSocket);var je=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=_e(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i[te]=ee,!(0,o.Yr)()&&"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(i[re]=ie),t&&(i[ne]=t),n&&(i[ae]=n),r&&(i[le]=r),de(e,ue,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,v.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/"+ee+"/"+c+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",BASE_URL:"/gw2_vue/"},s=0===this.connURL.indexOf("wss://")?a["HTTPS_PROXY"]||a["https_proxy"]:a["HTTP_PROXY"]||a["http_proxy"];s&&(i["proxy"]={origin:s}),this.mySock=new ze(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new ze(this.connURL,[],i)}}catch(u){this.log_("Error instantiating WebSocket.");var l=u.message||u.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==ze&&!e.forceDisallow_},e.previouslyFailed=function(){return v.isInMemoryStorage||!0===v.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){v.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=F(t,Me);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(qe))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Ue=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Qe,je]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=je&&je["isAvailable"](),o=i&&!je.previouslyFailed();if(t.webSocketOnly&&(i||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[je];else{var s=this.transports_=[];try{for(var l=(0,a.XA)(e.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c["isAvailable"]()&&s.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),He=6e4,We=5e3,Ye=10240,Ke=102400,Ve="t",Ge="d",Ze="s",Je="r",Xe="e",$e="o",et="a",tt="n",nt="p",rt="h",it=function(){function e(e,t,n,r,i,o,a,s,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new Ue(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=Z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>Ke?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>Ye?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if(Ve in e){var t=e[Ve];t===et?this.upgradeIfSecondaryHealthy_():t===Je?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===$e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=L("t",e),n=L("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nt,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:et,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tt,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=L("t",e),n=L("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=L(Ve,e);if(Ge in e){var n=e[Ge];if(t===rt)this.onHandshake_(n);else if(t===tt){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ze?this.onConnectionShutdown_(n):t===Je?this.onReset_(n):t===Xe?k("Server Error: "+n):t===$e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ee!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(He))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(We))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nt,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(v.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ot=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),at=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),st=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(at),lt=32,ut=768,ct=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return new ct("")}function pt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function dt(e){return e.pieces_.length-e.pieceNum_}function ft(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ct(e.pieces_,t)}function vt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gt(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function _t(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function yt(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ct(t,0)}function At(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ct)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ct(n,0)}function mt(e){return e.pieceNum_>=e.pieces_.length}function wt(e,t){var n=pt(e),r=pt(t);if(null===n)return t;if(n===r)return wt(ft(e),ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ct(e,t){for(var n=_t(e,0),r=_t(t,0),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function bt(e,t){if(dt(e)!==dt(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Et(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(dt(e)>dt(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var xt=function(){function e(e,t){this.errorPrefix_=t,this.parts_=_t(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);Tt(this)}return e}();function kt(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),Tt(e)}function It(e){var t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}function Tt(e){if(e.byteLength_>ut)throw new Error(e.errorPrefix_+"has a key path longer than "+ut+" bytes ("+e.byteLength_+").");if(e.parts_.length>lt)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lt+") or object contains a cycle "+St(e))}function St(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Dt,Nt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",t="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(at),Rt=1e3,Ot=3e5,Bt=3e3,Lt=3e4,Qt=1.3,Ft=3e4,Mt="server_kill",qt=3,zt=function(e){function t(n,r,i,a,s,l,u,c){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=l,h.appCheckTokenProvider_=u,h.authOverride_=c,h.id=t.nextPersistentConnectionId_++,h.log_=x("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Rt,h.maxReconnectDelay_=Ot,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Nt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",h.onOnline_,h),h}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e["d"];"ok"===e["s"]?(t.onDataUpdate_(r["p"],i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),Bt),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i},s="q";e.tag&&(a["q"]=r._queryObject,a["t"]=e.tag),a["h"]=e.hashFn(),this.sendRequest(s,a,(function(a){var s=a["d"],l=a["s"];t.warnOnListenWarnings_(s,r);var u=n.listens.get(i)&&n.listens.get(i).get(o);u===e&&(n.log_("listen response",a),"ok"!==l&&n.removeListen_(i,o),e.onComplete&&e.onComplete(l,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&40===e.length;(t||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lt)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r["noauth"]=!0:"object"===typeof this.authOverride_&&(r["authvar"]=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n["s"],i=n["d"]||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t["s"],r=t["d"]||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e["s"],e["d"])}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r["s"],r["d"])}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){var n=e["s"];if("ok"!==n){var r=e["d"];t.log_("reportStats","Error sending stats: "+r)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>Ft&&(this.reconnectDelay_=Rt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Qt)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,n,r,i,s,l,u,c,h,p,d,f,v,g,_=this;return(0,a.Jh)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,l=!1,u=null,c=function(){u?u.close():(l=!0,r())},h=function(e){(0,o.hu)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:h},p=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)])];case 2:return d=a.CR.apply(void 0,[y.sent(),2]),f=d[0],v=d[1],l?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=v&&v.token,u=new it(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){T(e+" ("+_.repoInfo_.toString()+")"),_.interrupt(Mt)}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),l||(this.repoInfo_.nodeAdmin&&T(g),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return Q(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ct(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qt&&(this.reconnectDelay_=Lt,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){E("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qt&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var l=(n=void 0,(0,a.XA)(s.values())),u=l.next();!u.done;u=l.next()){var c=u.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);while(this.onDisconnectRequestQueue_.length){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=st.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ot),jt=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ut=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new jt(N,e),r=new jt(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return jt.MIN},e}(),Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pt},set:function(e){Pt=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return O(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return jt.MIN},t.prototype.maxPost=function(){return new jt(R,Pt)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new jt(e,Pt)},t.prototype.toString=function(){return".key"},t}(Ut),Wt=new Ht,Yt=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];var o=1;while(!e.isEmpty())if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Kt=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Gt.EMPTY_NODE,this.right=null!=o?o:Gt.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Gt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Gt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Vt=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Kt(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Gt=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Kt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Kt.BLACK,null,null))},e.prototype.get=function(e){var t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){var t,n=this.root_,r=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Yt(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Yt(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Yt(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Yt(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Vt,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zt(e,t){return O(e.name,t.name)}function Jt(e,t){return O(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(e){Dt=e}var $t,en,tn,nn=function(e){return"number"===typeof e?"number:"+q(e):"string:"+e},rn=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Dt||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Dt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},on=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rn(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return $t},set:function(e){$t=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return mt(t)?this:".priority"===pt(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=pt(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===dt(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nn(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?q(this.value_):this.value_,this.lazyHash_=A(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();function an(e){en=e}function sn(e){tn=e}var ln,un,cn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return jt.MIN},t.prototype.maxPost=function(){return new jt(R,new on("[PRIORITY-POST]",tn))},t.prototype.makePost=function(e,t){var n=en(e);return new jt(t,new on("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ut),hn=new cn,pn=Math.log(2),dn=function(){function e(e){var t=function(e){return parseInt(Math.log(e)/pn,10)},n=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var r=n(this.count);this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),fn=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Kt(a,o.node,Kt.BLACK,null,null);var l=parseInt(s/2,10)+t,u=i(t,l),c=i(l+1,r);return o=e[l],a=n?n(o):o,new Kt(a,o.node,Kt.BLACK,u,c)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var u=i(o+1,s),c=e[o],h=n?n(c):c;l(new Kt(h,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(u+1));c?s(h,Kt.BLACK):(s(h,Kt.BLACK),s(h,Kt.RED))}return o},a=new dn(e.length),s=o(a);return new Gt(r||t,s)},vn={},gn=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(vn&&hn,"ChildrenNode.ts has not been loaded"),ln=ln||new e({".priority":vn},{".priority":hn}),ln},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Gt?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==Wt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var r,i=[],s=!1,l=n.getIterator(jt.Wrap),u=l.getNext();while(u)s=s||t.isDefinedOn(u.node),i.push(u),u=l.getNext();r=s?fn(i,t.getCompare()):vn;var c=t.toString(),h=(0,a.pi)({},this.indexSet_);h[c]=t;var p=(0,a.pi)({},this.indexes_);return p[c]=r,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=(0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===vn){if(a.isDefinedOn(t.node)){var s=[],l=n.getIterator(jt.Wrap),u=l.getNext();while(u)u.name!==t.name&&s.push(u),u=l.getNext();return s.push(t),fn(s,a.getCompare())}return vn}var c=n.get(t.name),h=e;return c&&(h=h.remove(new jt(t.name,c))),h.insert(t,t.node)}));return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=(0,o.UI)(this.indexes_,(function(e){if(e===vn)return e;var r=n.get(t.name);return r?e.remove(new jt(t.name,r)):e}));return new e(r,this.indexSet_)},e}(),_n=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rn(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return un||(un=new e(new Gt(Jt),null,gn.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||un},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?un:t},e.prototype.getChild=function(e){var t=pt(e);return null===t?this:this.getImmediateChild(t).getChild(ft(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new jt(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?un:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=pt(e);if(null===n)return t;(0,o.hu)(".priority"!==pt(e)||1===dt(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ft(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(hn,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nn(this.getPriority().val())+":"),this.forEachChild(hn,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":A(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new jt(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new jt(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new jt(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));var r=this.children_.getIteratorFrom(e.name,jt.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)<0)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));var r=this.children_.getReverseIteratorFrom(e.name,jt.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)>0)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===An?-1:0},e.prototype.withIndex=function(t){if(t===Wt||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Wt||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){var n=this.getIterator(hn),r=t.getIterator(hn),i=n.getNext(),o=r.getNext();while(i&&o){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Wt?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),yn=function(e){function t(){return e.call(this,new Gt(Jt),_n.EMPTY_NODE,gn.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return _n.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(_n),An=new yn;Object.defineProperties(jt,{MIN:{value:new jt(N,_n.EMPTY_NODE)},MAX:{value:new jt(R,An)}}),Ht.__EMPTY_NODE=_n.EMPTY_NODE,on.__childrenNodeConstructor=_n,Xt(An),sn(An);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mn=!0;function wn(e,t){if(void 0===t&&(t=null),null===e)return _n.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new on(n,wn(t))}if(e instanceof Array||!mn){var r=_n.EMPTY_NODE;return M(e,(function(t,n){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=wn(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(wn(t))}var i=[],a=!1,s=e;if(M(s,(function(e,t){if("."!==e.substring(0,1)){var n=wn(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new jt(e,n)))}})),0===i.length)return _n.EMPTY_NODE;var l=fn(i,Zt,(function(e){return e.name}),Jt);if(a){var u=fn(i,hn.getCompare());return new _n(l,wn(t),new gn({".priority":u},{".priority":hn}))}return new _n(l,wn(t),gn.Default)}an(wn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Cn=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!mt(t)&&".priority"!==pt(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=wn(e),r=_n.EMPTY_NODE.updateChild(this.indexPath_,n);return new jt(t,r)},t.prototype.maxPost=function(){var e=_n.EMPTY_NODE.updateChild(this.indexPath_,An);return new jt(R,e)},t.prototype.toString=function(){return _t(this.indexPath_,0).join("/")},t}(Ut),bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return jt.MIN},t.prototype.maxPost=function(){return jt.MAX},t.prototype.makePost=function(e,t){var n=wn(e);return new jt(t,n)},t.prototype.toString=function(){return".value"},t}(Ut),En=new bn,xn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kn="-",In="z",Tn=786,Sn=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=xn.charAt(n%64),n=Math.floor(n/64);(0,o.hu)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=xn.charAt(t[r]);return(0,o.hu)(20===s.length,"nextPushId: Length should be 20."),s}}(),Pn=function(e){if(e===""+Y)return kn;var t=K(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<Tn)return n.push(kn),n.join("");var i=n.length-1;while(i>=0&&n[i]===In)i--;if(-1===i)return R;var o=n[i],a=xn.charAt(xn.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Dn=function(e){if(e===""+W)return N;var t=K(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===kn?1===n.length?""+Y:(delete n[n.length-1],n.join("")):(n[n.length-1]=xn.charAt(xn.indexOf(n[n.length-1])-1),n.join("")+In.repeat(Tn-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Nn(e){return{type:"value",snapshotNode:e}}function Rn(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function On(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Bn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Ln(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(On(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(Rn(t,n)):a.trackChildChange(Bn(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(hn,(function(e,r){t.hasChild(e)||n.trackChildChange(On(e,r))})),t.isLeafNode()||t.forEachChild(hn,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Bn(t,r,i))}else n.trackChildChange(Rn(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?_n.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Fn=function(){function e(t){this.indexedFilter_=new Qn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new jt(t,n))||(n=_n.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=_n.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(_n.EMPTY_NODE);var i=this;return t.forEachChild(hn,(function(e,t){i.matches(new jt(e,t))||(r=r.updateImmediateChild(e,_n.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Mn=function(){function e(e){this.rangedFilter_=new Fn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new jt(t,n))||(n=_n.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=_n.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=_n.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(i.hasNext()&&o<this.limit_){var a=i.getNext(),s=void 0;if(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!s)break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=t.withIndex(this.index_),r=r.updatePriority(_n.EMPTY_NODE);var l=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else i=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;var p=!1;while(i.hasNext()){a=i.getNext();!p&&c(l,a)<=0&&(p=!0);s=p&&o<this.limit_&&c(a,u)<=0;s?o++:r=r.updateImmediateChild(a.name,_n.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var l=e;(0,o.hu)(l.numChildren()===this.limit_,"");var u=new jt(t,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(t)){var p=l.getImmediateChild(t),d=r.getChildAfterChild(this.index_,c,this.reverse_);while(null!=d&&(d.name===t||l.hasChild(d.name)))d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:a(d,u),v=h&&!n.isEmpty()&&f>=0;if(v)return null!=i&&i.trackChildChange(Bn(t,n,p)),l.updateImmediateChild(t,n);null!=i&&i.trackChildChange(On(t,p));var g=l.updateImmediateChild(t,_n.EMPTY_NODE),_=null!=d&&this.rangedFilter_.matches(d);return _?(null!=i&&i.trackChildChange(Rn(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?e:h&&a(c,u)>=0?(null!=i&&(i.trackChildChange(On(c.name,c.node)),i.trackChildChange(Rn(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(c.name,_n.EMPTY_NODE)):e},e}(),qn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===hn},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(e){return e.loadsAllData()?new Qn(e.getIndex()):e.hasLimit()?new Mn(e):new Fn(e)}function jn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Un(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Hn(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Wn(e,t,n){var r;if(e.index_===Wt)"string"===typeof t&&(t=Pn(t)),r=Hn(e,t,n);else{var i=void 0;i=null==n?R:Pn(n),r=Hn(e,t,i)}return r.startAfterSet_=!0,r}function Yn(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Kn(e,t,n){var r,i;return e.index_===Wt?("string"===typeof t&&(t=Dn(t)),i=Yn(e,t,n)):(r=null==n?N:Dn(n),i=Yn(e,t,r)),i.endBeforeSet_=!0,i}function Vn(e,t){var n=e.copy();return n.index_=t,n}function Gn(e){var t,n={};return e.isDefault()||(e.index_===hn?t="$priority":e.index_===En?t="$value":e.index_===Wt?t="$key":((0,o.hu)(e.index_ instanceof Cn,"Unrecognized index type!"),t=e.index_.toString()),n["orderBy"]=(0,o.Pz)(t),e.startSet_&&(n["startAt"]=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n["startAt"]+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n["endAt"]=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n["endAt"]+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n["limitToFirst"]=e.limit_:n["limitToLast"]=e.limit_)),n}function Zn(e){var t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==hn&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=x("p:rest:"),o.listens_={},o}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var l=t.getListenId_(e,r),u={};this.listens_[l]=u;var c=Gn(e._queryParams);this.restRequest_(s+".json",c,(function(e,t){var n,c=t;(404===e&&(c=null,e=null),null===e&&a.onDataUpdate_(s,c,!1,r),(0,o.DV)(a.listens_,l)===u)&&(n=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(n,null))}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Gn(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.CR)(i,2),l=s[0],u=s[1];l&&l.accessToken&&(t["auth"]=l.accessToken),u&&u.token&&(t["ac"]=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.cI)(h.responseText)}catch(t){T("Failed to parse JSON response for "+c+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&T("Got unsuccessful REST response for "+c+" Status: "+h.status),n(h.status);n=null}},h.open("GET",c,!0),h.send()}))},t}(ot),Xn=function(){function e(){this.rootNode_=_n.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $n(){return{value:null,children:new Map}}function er(e,t,n){if(mt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=pt(t);e.children.has(r)||e.children.set(r,$n());var i=e.children.get(r);t=ft(t),er(i,t,n)}}function tr(e,t){if(mt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(hn,(function(t,n){er(e,new ct(t),n)})),tr(e,t)}if(e.children.size>0){var r=pt(t);if(t=ft(t),e.children.has(r)){var i=tr(e.children.get(r),t);i&&e.children.delete(r)}return 0===e.children.size}return!0}function nr(e,t,n){null!==e.value?n(t,e.value):rr(e,(function(e,r){var i=new ct(t.toString()+"/"+e);nr(r,i,n)}))}function rr(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,or=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),ar=1e4,sr=3e4,lr=3e5,ur=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new or(e);var n=ar+(sr-ar)*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*lr))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e,t){e.statsToReport_[t]=!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(ir||(ir={}));var fr,vr=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ir.ACK_USER_WRITE,this.source=hr()}return e.prototype.operationForChild=function(t){if(mt(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ct(t));return new e(ht(),n,this.revert)}return(0,o.hu)(pt(this.path)===t,"operationForChild called for unrelated child."),new e(ft(this.path),this.affectedTree,this.revert)},e}(),gr=function(){function e(e,t){this.source=e,this.path=t,this.type=ir.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return mt(this.path)?new e(this.source,ht()):new e(this.source,ft(this.path))},e}(),_r=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ir.OVERWRITE}return e.prototype.operationForChild=function(t){return mt(this.path)?new e(this.source,ht(),this.snap.getImmediateChild(t)):new e(this.source,ft(this.path),this.snap)},e}(),yr=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ir.MERGE}return e.prototype.operationForChild=function(t){if(mt(this.path)){var n=this.children.subtree(new ct(t));return n.isEmpty()?null:n.value?new _r(this.source,ht(),n.value):new e(this.source,ht(),n)}return(0,o.hu)(pt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ft(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Ar=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(mt(e))return this.isFullyInitialized()&&!this.filtered_;var t=pt(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),mr=function(){function e(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ln(t.childName,t.snapshotNode))})),Cr(e,i,"child_removed",t,r,n),Cr(e,i,"child_added",t,r,n),Cr(e,i,"child_moved",o,r,n),Cr(e,i,"child_changed",t,r,n),Cr(e,i,"value",t,r,n),i}function Cr(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return Er(e,t,n)})),a.forEach((function(n){var r=br(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function br(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Er(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new jt(t.childName,t.snapshotNode),i=new jt(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(e,t){return{eventCache:e,serverCache:t}}function kr(e,t,n,r){return xr(new Ar(t,n,r),e.serverCache)}function Ir(e,t,n,r){return xr(e.eventCache,new Ar(t,n,r))}function Tr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Sr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr=function(){return fr||(fr=new Gt(B)),fr},Dr=function(){function e(e,t){void 0===t&&(t=Pr()),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new ct(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ht(),value:this.value};if(mt(e))return null;var n=pt(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ft(e),t);if(null!=i){var o=At(new ct(n),i.path);return{path:o,value:i.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(mt(t))return this;var n=pt(t),r=this.children.get(n);return null!==r?r.subtree(ft(t)):new e(null)},e.prototype.set=function(t,n){if(mt(t))return new e(n,this.children);var r=pt(t),i=this.children.get(r)||new e(null),o=i.set(ft(t),n),a=this.children.insert(r,o);return new e(this.value,a)},e.prototype.remove=function(t){if(mt(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=pt(t),r=this.children.get(n);if(r){var i=r.remove(ft(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(mt(e))return this.value;var t=pt(e),n=this.children.get(t);return n?n.get(ft(e)):null},e.prototype.setTree=function(t,n){if(mt(t))return n;var r=pt(t),i=this.children.get(r)||new e(null),o=i.setTree(ft(t),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(ht(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(At(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ht(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(mt(e))return null;var i=pt(e),o=this.children.get(i);return o?o.findOnPath_(ft(e),At(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ht(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(mt(t))return this;this.value&&r(n,this.value);var i=pt(t),o=this.children.get(i);return o?o.foreachOnPath_(ft(t),At(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ht(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(At(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Nr=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Dr(null))},e}();function Rr(e,t,n){if(mt(t))return new Nr(new Dr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=wt(i,t);return o=o.updateChild(a,n),new Nr(e.writeTree_.set(i,o))}var s=new Dr(n),l=e.writeTree_.setTree(t,s);return new Nr(l)}function Or(e,t,n){var r=e;return M(n,(function(e,n){r=Rr(r,At(t,e),n)})),r}function Br(e,t){if(mt(t))return Nr.empty();var n=e.writeTree_.setTree(t,new Dr(null));return new Nr(n)}function Lr(e,t){return null!=Qr(e,t)}function Qr(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(wt(n.path,t)):null}function Fr(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hn,(function(e,n){t.push(new jt(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new jt(e,n.value))})),t}function Mr(e,t){if(mt(t))return e;var n=Qr(e,t);return new Nr(null!=n?new Dr(n):e.writeTree_.subtree(t))}function qr(e){return e.writeTree_.isEmpty()}function zr(e,t){return jr(ht(),e.writeTree_,t)}function jr(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jr(At(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(At(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(e,t){return pi(t,e)}function Hr(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Rr(e.visibleWrites,t,n)),e.lastWriteId=r}function Wr(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Or(e.visibleWrites,t,n),e.lastWriteId=r}function Yr(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Kr(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);var i=r.visible,a=!1,s=e.allWrites.length-1;while(i&&s>=0){var l=e.allWrites[s];l.visible&&(s>=n&&Vr(l,r.path)?i=!1:Et(r.path,l.path)&&(a=!0)),s--}if(i){if(a)return Gr(e),!0;if(r.snap)e.visibleWrites=Br(e.visibleWrites,r.path);else{var u=r.children;M(u,(function(t){e.visibleWrites=Br(e.visibleWrites,At(r.path,t))}))}return!0}return!1}function Vr(e,t){if(e.snap)return Et(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Et(At(e.path,n),t))return!0;return!1}function Gr(e){e.visibleWrites=Jr(e.allWrites,Zr,ht()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Zr(e){return e.visible}function Jr(e,t,n){for(var r=Nr.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,l=void 0;if(a.snap)Et(n,s)?(l=wt(n,s),r=Rr(r,l,a.snap)):Et(s,n)&&(l=wt(s,n),r=Rr(r,ht(),a.snap.getChild(l)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Et(n,s))l=wt(n,s),r=Or(r,l,a.children);else if(Et(s,n))if(l=wt(s,n),mt(l))r=Or(r,ht(),a.children);else{var u=(0,o.DV)(a.children,pt(l));if(u){var c=u.getChild(ft(l));r=Rr(r,ht(),c)}}}}}return r}function Xr(e,t,n,r,i){if(r||i){var o=Mr(e.visibleWrites,t);if(!i&&qr(o))return n;if(i||null!=n||Lr(o,ht())){var a=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Et(e.path,t)||Et(t,e.path))},s=Jr(e.allWrites,a,t);c=n||_n.EMPTY_NODE;return zr(s,c)}return null}var l=Qr(e.visibleWrites,t);if(null!=l)return l;var u=Mr(e.visibleWrites,t);if(qr(u))return n;if(null!=n||Lr(u,ht())){var c=n||_n.EMPTY_NODE;return zr(u,c)}return null}function $r(e,t,n){var r=_n.EMPTY_NODE,i=Qr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(hn,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Mr(e.visibleWrites,t);return n.forEachChild(hn,(function(e,t){var n=zr(Mr(o,new ct(e)),t);r=r.updateImmediateChild(e,n)})),Fr(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}var a=Mr(e.visibleWrites,t);return Fr(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}function ei(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=At(t,n);if(Lr(e.visibleWrites,a))return null;var s=Mr(e.visibleWrites,a);return qr(s)?i.getChild(n):zr(s,i.getChild(n))}function ti(e,t,n,r){var i=At(t,n),o=Qr(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){var a=Mr(e.visibleWrites,i);return zr(a,r.getNode().getImmediateChild(n))}return null}function ni(e,t){return Qr(e.visibleWrites,t)}function ri(e,t,n,r,i,o,a){var s,l=Mr(e.visibleWrites,t),u=Qr(l,ht());if(null!=u)s=u;else{if(null==n)return[];s=zr(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];var c=[],h=a.getCompare(),p=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=p.getNext();while(d&&c.length<i)0!==h(d,r)&&c.push(d),d=p.getNext();return c}function ii(){return{visibleWrites:Nr.empty(),allWrites:[],lastWriteId:-1}}function oi(e,t,n,r){return Xr(e.writeTree,e.treePath,t,n,r)}function ai(e,t){return $r(e.writeTree,e.treePath,t)}function si(e,t,n,r){return ei(e.writeTree,e.treePath,t,n,r)}function li(e,t){return ni(e.writeTree,At(e.treePath,t))}function ui(e,t,n,r,i,o){return ri(e.writeTree,e.treePath,t,n,r,i,o)}function ci(e,t,n){return ti(e.writeTree,e.treePath,t,n)}function hi(e,t){return pi(At(e.treePath,t),e.writeTree)}function pi(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Bn(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,On(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Rn(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Bn(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),fi=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),vi=new fi,gi=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ar(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ci(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sr(this.viewCache_),i=ui(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _i(e){return{filter:e}}function yi(e,t){(0,o.hu)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Ai(e,t,n,r,i){var a,s,l=new di;if(n.type===ir.OVERWRITE){var u=n;u.source.fromUser?a=bi(e,t,u.path,u.snap,r,i,l):((0,o.hu)(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!mt(u.path),a=Ci(e,t,u.path,u.snap,r,i,s,l))}else if(n.type===ir.MERGE){var c=n;c.source.fromUser?a=xi(e,t,c.path,c.children,r,i,l):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),a=Ii(e,t,c.path,c.children,r,i,s,l))}else if(n.type===ir.ACK_USER_WRITE){var h=n;a=h.revert?Pi(e,t,h.path,r,i,l):Ti(e,t,h.path,h.affectedTree,r,i,l)}else{if(n.type!==ir.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=Si(e,t,n.path,r,l)}var p=l.getChanges();return mi(t,a,p),{viewCache:a,changes:p}}function mi(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Tr(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Nn(Tr(t)))}}function wi(e,t,n,r,i,a){var s=t.eventCache;if(null!=li(r,n))return t;var l=void 0,u=void 0;if(mt(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Sr(t),h=c instanceof _n?c:_n.EMPTY_NODE,p=ai(r,h);l=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{var d=oi(r,Sr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=pt(n);if(".priority"===f){(0,o.hu)(1===dt(n),"Can't have a priority with additional path components");var v=s.getNode();u=t.serverCache.getNode();var g=si(r,n,v,u);l=null!=g?e.filter.updatePriority(v,g):s.getNode()}else{var _=ft(n),y=void 0;if(s.isCompleteForChild(f)){u=t.serverCache.getNode();var A=si(r,n,s.getNode(),u);y=null!=A?s.getNode().getImmediateChild(f).updateChild(_,A):s.getNode().getImmediateChild(f)}else y=ci(r,f,t.serverCache);l=null!=y?e.filter.updateChild(s.getNode(),f,y,_,i,a):s.getNode()}}return kr(t,l,s.isFullyInitialized()||mt(n),e.filter.filtersNodes())}function Ci(e,t,n,r,i,o,a,s){var l,u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(mt(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),h,null)}else{var p=pt(n);if(!u.isCompleteForPath(n)&&dt(n)>1)return t;var d=ft(n),f=u.getNode().getImmediateChild(p),v=f.updateChild(d,r);l=".priority"===p?c.updatePriority(u.getNode(),v):c.updateChild(u.getNode(),p,v,d,vi,null)}var g=Ir(t,l,u.isFullyInitialized()||mt(n),c.filtersNodes()),_=new gi(i,g,o);return wi(e,g,n,i,_,s)}function bi(e,t,n,r,i,o,a){var s,l,u=t.eventCache,c=new gi(i,t,o);if(mt(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=kr(t,l,!0,e.filter.filtersNodes());else{var h=pt(n);if(".priority"===h)l=e.filter.updatePriority(t.eventCache.getNode(),r),s=kr(t,l,u.isFullyInitialized(),u.isFiltered());else{var p=ft(n),d=u.getNode().getImmediateChild(h),f=void 0;if(mt(p))f=r;else{var v=c.getCompleteChild(h);f=null!=v?".priority"===vt(p)&&v.getChild(yt(p)).isEmpty()?v:v.updateChild(p,r):_n.EMPTY_NODE}if(d.equals(f))s=t;else{var g=e.filter.updateChild(u.getNode(),h,f,p,c,a);s=kr(t,g,u.isFullyInitialized(),e.filter.filtersNodes())}}}return s}function Ei(e,t){return e.eventCache.isCompleteForChild(t)}function xi(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,l){var u=At(n,r);Ei(t,pt(u))&&(s=bi(e,s,u,l,i,o,a))})),r.foreach((function(r,l){var u=At(n,r);Ei(t,pt(u))||(s=bi(e,s,u,l,i,o,a))})),s}function ki(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ii(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var l,u=t;l=mt(n)?r:new Dr(null).setTree(n,r);var c=t.serverCache.getNode();return l.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var l=t.serverCache.getNode().getImmediateChild(n),h=ki(e,l,r);u=Ci(e,u,new ct(n),h,i,o,a,s)}})),l.children.inorderTraversal((function(n,r){var l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!l){var h=t.serverCache.getNode().getImmediateChild(n),p=ki(e,h,r);u=Ci(e,u,new ct(n),p,i,o,a,s)}})),u}function Ti(e,t,n,r,i,o,a){if(null!=li(i,n))return t;var s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(mt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ci(e,t,n,l.getNode().getChild(n),i,o,s,a);if(mt(n)){var u=new Dr(null);return l.getNode().forEachChild(Wt,(function(e,t){u=u.set(new ct(e),t)})),Ii(e,t,n,u,i,o,s,a)}return t}var c=new Dr(null);return r.foreach((function(e,t){var r=At(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Ii(e,t,n,c,i,o,s,a)}function Si(e,t,n,r,i){var o=t.serverCache,a=Ir(t,o.getNode(),o.isFullyInitialized()||mt(n),o.isFiltered());return wi(e,a,n,r,vi,i)}function Pi(e,t,n,r,i,a){var s;if(null!=li(r,n))return t;var l=new gi(r,t,i),u=t.eventCache.getNode(),c=void 0;if(mt(n)||".priority"===pt(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=oi(r,Sr(t));else{var p=t.serverCache.getNode();(0,o.hu)(p instanceof _n,"serverChildren would be complete if leaf node"),h=ai(r,p)}c=e.filter.updateFullNode(u,h,a)}else{var d=pt(n),f=ci(r,d,t.serverCache);null==f&&t.serverCache.isCompleteForChild(d)&&(f=u.getImmediateChild(d)),c=null!=f?e.filter.updateChild(u,d,f,ft(n),l,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(u,d,_n.EMPTY_NODE,ft(n),l,a):u,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=oi(r,Sr(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,a)))}return s=t.serverCache.isFullyInitialized()||null!=li(r,ht()),kr(t,c,s,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Di,Ni=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new Qn(n.getIndex()),i=zn(n);this.processor_=_i(i);var o=t.serverCache,a=t.eventCache,s=r.updateFullNode(_n.EMPTY_NODE,o.getNode(),null),l=i.updateFullNode(_n.EMPTY_NODE,a.getNode(),null),u=new Ar(s,o.isFullyInitialized(),r.filtersNodes()),c=new Ar(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=xr(c,u),this.eventGenerator_=new mr(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Ri(e){return e.viewCache_.serverCache.getNode()}function Oi(e){return Tr(e.viewCache_)}function Bi(e,t){var n=Sr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!mt(t)&&!n.getImmediateChild(pt(t)).isEmpty())?n.getChild(t):null}function Li(e){return 0===e.eventRegistrations_.length}function Qi(e,t){e.eventRegistrations_.push(t)}function Fi(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var l=e.eventRegistrations_[s];if(l.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(l)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Mi(e,t,n,r){t.type===ir.MERGE&&null!==t.source.queryId&&((0,o.hu)(Sr(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Tr(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,a=Ai(e.processor_,i,t,n,r);return yi(e.processor_,a.viewCache),(0,o.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,zi(e,a.changes,a.viewCache.eventCache.getNode(),null)}function qi(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(hn,(function(e,t){r.push(Rn(e,t))}))}return n.isFullyInitialized()&&r.push(Nn(n.getNode())),zi(e,r,n.getNode(),t)}function zi(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return wr(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji,Ui=function(){function e(){this.views=new Map}return e}();function Hi(e){(0,o.hu)(!Di,"__referenceConstructor has already been defined"),Di=e}function Wi(){return(0,o.hu)(Di,"Reference.ts has not been loaded"),Di}function Yi(e){return 0===e.views.size}function Ki(e,t,n,r){var i,s,l=t.source.queryId;if(null!==l){var u=e.views.get(l);return(0,o.hu)(null!=u,"SyncTree gave us an op for an invalid query."),Mi(u,t,n,r)}var c=[];try{for(var h=(0,a.XA)(e.views.values()),p=h.next();!p.done;p=h.next()){u=p.value;c=c.concat(Mi(u,t,n,r))}}catch(d){i={error:d}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}function Vi(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=oi(n,i?r:null),l=!1;s?l=!0:r instanceof _n?(s=ai(n,r),l=!1):(s=_n.EMPTY_NODE,l=!1);var u=xr(new Ar(s,l,!1),new Ar(r,i,!1));return new Ni(t,u)}return a}function Gi(e,t,n,r,i,o){var a=Vi(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),Qi(a,n),qi(a,n)}function Zi(e,t,n,r){var i,o,s=t._queryIdentifier,l=[],u=[],c=to(e);if("default"===s)try{for(var h=(0,a.XA)(e.views.entries()),p=h.next();!p.done;p=h.next()){var d=(0,a.CR)(p.value,2),f=d[0],v=d[1];u=u.concat(Fi(v,n,r)),Li(v)&&(e.views.delete(f),v.query._queryParams.loadsAllData()||l.push(v.query))}}catch(g){i={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else{v=e.views.get(s);v&&(u=u.concat(Fi(v,n,r)),Li(v)&&(e.views.delete(s),v.query._queryParams.loadsAllData()||l.push(v.query)))}return c&&!to(e)&&l.push(new(Wi())(t._repo,t._path)),{removed:l,events:u}}function Ji(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Xi(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var l=s.value;i=i||Bi(l,t)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function $i(e,t){var n=t._queryParams;if(n.loadsAllData())return no(e);var r=t._queryIdentifier;return e.views.get(r)}function eo(e,t){return null!=$i(e,t)}function to(e){return null!=no(e)}function no(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(e){(0,o.hu)(!ji,"__referenceConstructor has already been defined"),ji=e}function io(){return(0,o.hu)(ji,"Reference.ts has not been loaded"),ji}var oo=1,ao=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=new Dr(null),this.pendingWriteTree_=ii(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function so(e,t,n,r,i){return Hr(e.pendingWriteTree_,t,n,r,i),i?wo(e,new _r(hr(),t,n)):[]}function lo(e,t,n,r){Wr(e.pendingWriteTree_,t,n,r);var i=Dr.fromObject(n);return wo(e,new yr(hr(),t,i))}function uo(e,t,n){void 0===n&&(n=!1);var r=Yr(e.pendingWriteTree_,t),i=Kr(e.pendingWriteTree_,t);if(i){var o=new Dr(null);return null!=r.snap?o=o.set(ht(),!0):M(r.children,(function(e){o=o.set(new ct(e),!0)})),wo(e,new vr(r.path,o,n))}return[]}function co(e,t,n){return wo(e,new _r(pr(),t,n))}function ho(e,t,n){var r=Dr.fromObject(n);return wo(e,new yr(pr(),t,r))}function po(e,t){return wo(e,new gr(pr(),t))}function fo(e,t,n){var r=Io(e,n);if(r){var i=To(r),o=i.path,a=i.queryId,s=wt(o,t),l=new gr(dr(a),s);return So(e,o,l)}return[]}function vo(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||eo(o,t))){var s=Zi(o,t,n,r);Yi(o)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=s.removed;a=s.events;var u=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return to(t)}));if(u&&!c){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var p=Po(h),d=0;d<p.length;++d){var f=p[d],v=f.query,g=Eo(e,f);e.listenProvider_.startListening(Do(v),xo(e,v),g.hashFn,g.onComplete)}}if(!c&&l.length>0&&!r)if(u){var _=null;e.listenProvider_.stopListening(Do(t),_)}else l.forEach((function(t){var n=e.queryToTagMap.get(ko(t));e.listenProvider_.stopListening(Do(t),n)}));No(e,l)}return a}function go(e,t,n,r){var i=Io(e,r);if(null!=i){var o=To(i),a=o.path,s=o.queryId,l=wt(a,t),u=new _r(dr(s),l,n);return So(e,a,u)}return[]}function _o(e,t,n,r){var i=Io(e,r);if(i){var o=To(i),a=o.path,s=o.queryId,l=wt(a,t),u=Dr.fromObject(n),c=new yr(dr(s),l,u);return So(e,a,c)}return[]}function yo(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=wt(e,r);i=i||Xi(t,n),a=a||to(t)}));var s,l=e.syncPointTree_.get(r);if(l?(a=a||to(l),i=i||Xi(l,ht())):(l=new Ui,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=i)s=!0;else{s=!1,i=_n.EMPTY_NODE;var u=e.syncPointTree_.subtree(r);u.foreachChild((function(e,t){var n=Xi(t,ht());n&&(i=i.updateImmediateChild(e,n))}))}var c=eo(l,t);if(!c&&!t._queryParams.loadsAllData()){var h=ko(t);(0,o.hu)(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");var p=Ro();e.queryToTagMap.set(h,p),e.tagToQueryMap.set(p,h)}var d=Ur(e.pendingWriteTree_,r),f=Gi(l,t,n,d,i,s);if(!c&&!a){var v=$i(l,t);f=f.concat(Oo(e,t,v))}return f}function Ao(e,t,n){var r=!0,i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(function(e,n){var r=wt(e,t),i=Xi(n,r);if(i)return i}));return Xr(i,t,o,n,r)}function mo(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=wt(e,n);r=r||Xi(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Xi(i,ht()):(i=new Ui,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ar(r,!0,!1):null,s=Ur(e.pendingWriteTree_,t._path),l=Vi(i,t,s,o?a.getNode():_n.EMPTY_NODE,o);return Oi(l)}function wo(e,t){return Co(t,e.syncPointTree_,null,Ur(e.pendingWriteTree_,ht()))}function Co(e,t,n,r){if(mt(e.path))return bo(e,t,n,r);var i=t.get(ht());null==n&&null!=i&&(n=Xi(i,ht()));var o=[],a=pt(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){var u=n?n.getImmediateChild(a):null,c=hi(r,a);o=o.concat(Co(s,l,u,c))}return i&&(o=o.concat(Ki(i,e,r,n))),o}function bo(e,t,n,r){var i=t.get(ht());null==n&&null!=i&&(n=Xi(i,ht()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=hi(r,t),l=e.operationForChild(t);l&&(o=o.concat(bo(l,i,a,s)))})),i&&(o=o.concat(Ki(i,e,r,n))),o}function Eo(e,t){var n=t.query,r=xo(e,n);return{hashFn:function(){var e=Ri(t)||_n.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?fo(e,n._path,r):po(e,n._path);var i=U(t,n);return vo(e,n,null,i)}}}function xo(e,t){var n=ko(t);return e.queryToTagMap.get(n)}function ko(e){return e._path.toString()+"$"+e._queryIdentifier}function Io(e,t){return e.tagToQueryMap.get(t)}function To(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ct(e.substr(0,t))}}function So(e,t,n){var r=e.syncPointTree_.get(t);(0,o.hu)(r,"Missing sync point for query tag that we're tracking");var i=Ur(e.pendingWriteTree_,t);return Ki(r,n,i,null)}function Po(e){return e.fold((function(e,t,n){if(t&&to(t)){var r=no(t);return[r]}var i=[];return t&&(i=Ji(t)),M(n,(function(e,t){i=i.concat(t)})),i}))}function Do(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(io())(e._repo,e._path):e}function No(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=ko(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function Ro(){return oo++}function Oo(e,t,n){var r=t._path,i=xo(e,t),a=Eo(e,n),s=e.listenProvider_.startListening(Do(t),i,a.hashFn,a.onComplete),l=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!to(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold((function(e,t,n){if(!mt(e)&&t&&to(t))return[no(t).query];var r=[];return t&&(r=r.concat(Ji(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var h=u[c];e.listenProvider_.stopListening(Do(h),xo(e,h))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),Lo=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=At(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Ao(this.syncTree_,this.path_)},e}(),Qo=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},Fo=function(e,t,n){return e&&"object"===typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Mo(e[".sv"],t,n):"object"===typeof e[".sv"]?qo(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Mo=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:(0,o.hu)(!1,"Unexpected server value: "+e)}},qo=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e["increment"];"number"!==typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i,s=a.getValue();return"number"!==typeof s?r:s+r},zo=function(e,t,n,r){return Uo(t,new Lo(n,e),r)},jo=function(e,t,n){return Uo(e,new Bo(t),n)};function Uo(e,t,n){var r,i=e.getPriority().val(),o=Fo(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Fo(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new on(s,wn(o)):e}var l=e;return r=l,o!==l.getPriority().val()&&(r=r.updatePriority(new on(o))),l.forEachChild(hn,(function(e,i){var o=Uo(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n}return e}();function Wo(e,t){var n=t instanceof ct?t:new ct(t),r=e,i=pt(n);while(null!==i){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new Ho(i,r,a),n=ft(n),i=pt(n)}return r}function Yo(e){return e.node.value}function Ko(e,t){e.node.value=t,ea(e)}function Vo(e){return e.node.childCount>0}function Go(e){return void 0===Yo(e)&&!Vo(e)}function Zo(e,t){M(e.node.children,(function(n,r){t(new Ho(n,e,r))}))}function Jo(e,t,n,r){n&&!r&&t(e),Zo(e,(function(e){Jo(e,t,!0,r)})),n&&r&&t(e)}function Xo(e,t,n){var r=n?e:e.parent;while(null!==r){if(t(r))return!0;r=r.parent}return!1}function $o(e){return new ct(null===e.parent?e.name:$o(e.parent)+"/"+e.name)}function ea(e){null!==e.parent&&ta(e.parent,e.name,e)}function ta(e,t,n){var r=Go(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ea(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ea(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var na=/[\[\].#$\/\u0000-\u001F\u007F]/,ra=/[\[\].#$\u0000-\u001F\u007F]/,ia=10485760,oa=function(e){return"string"===typeof e&&0!==e.length&&!na.test(e)},aa=function(e){return"string"===typeof e&&0!==e.length&&!ra.test(e)},sa=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),aa(e)},la=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!P(e)||e&&"object"===typeof e&&(0,o.r3)(e,".sv")},ua=function(e,t,n,r){r&&void 0===t||ca((0,o.gK)(e,"value"),t,n)},ca=function(e,t,n){var r=n instanceof ct?new xt(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+St(r));if("function"===typeof t)throw new Error(e+"contains a function "+St(r)+" with contents = "+t.toString());if(P(t))throw new Error(e+"contains "+t.toString()+" "+St(r));if("string"===typeof t&&t.length>ia/3&&(0,o.ug)(t)>ia)throw new Error(e+"contains a string greater than "+ia+" utf8 bytes "+St(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var i=!1,a=!1;if(M(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!oa(t)))throw new Error(e+" contains an invalid key ("+t+") "+St(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');kt(r,t),ca(e,n,r),It(r)})),i&&a)throw new Error(e+' contains ".value" child '+St(r)+" in addition to actual children.")}},ha=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=_t(r),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!oa(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ct);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Et(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},pa=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new ct(e);if(ca(i,t,At(n,r)),".priority"===vt(r)&&!la(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),ha(i,a)}},da=function(e,t,n){if(!n||void 0!==t){if(P(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!la(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fa=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},va=function(e,t,n,r){if((!r||void 0!==n)&&!oa(n))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ga=function(e,t,n,r){if((!r||void 0!==n)&&!aa(n))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_a=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ga(e,t,n,r)},ya=function(e,t){if(".info"===pt(t))throw new Error(e+" failed = Can't modify data under /.info/")},Aa=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!oa(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!sa(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ma=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},wa=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function Ca(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||bt(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ba(e,t,n){Ca(e,n),xa(e,(function(e){return bt(e,t)}))}function Ea(e,t,n){Ca(e,n),xa(e,(function(e){return Et(e,t)||Et(t,e)}))}function xa(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var o=i.path;t(o)?(ka(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ka(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();w&&E("event: "+n.toString()),V(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia="repo_interrupt",Ta=25,Sa=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wa,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$n(),this.transactionQueueTree_=new Ho,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Pa(e,t,n){if(e.stats_=_e(e.repoInfo_),e.forceRestClient_||G())e.server_=new Jn(e.repoInfo_,(function(t,n,r,i){Ra(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Ba(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new zt(e.repoInfo_,t,(function(t,n,r,i){Ra(e,t,n,r,i)}),(function(t){Ba(e,t)}),(function(t){La(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=ye(e.repoInfo_,(function(){return new ur(e.stats_,e.server_)})),e.infoData_=new Xn,e.infoSyncTree_=new ao({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=co(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Qa(e,"connected",!1),e.serverSyncTree_=new ao({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Ea(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Da(e){var t=e.infoData_.getNode(new ct(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function Na(e){return Qo({timestamp:Da(e)})}function Ra(e,t,n,r,i){e.dataUpdateCount++;var a=new ct(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var l=(0,o.UI)(n,(function(e){return wn(e)}));s=_o(e.serverSyncTree_,a,l,i)}else{var u=wn(n);s=go(e.serverSyncTree_,a,u,i)}else if(r){var c=(0,o.UI)(n,(function(e){return wn(e)}));s=ho(e.serverSyncTree_,a,c)}else{var h=wn(n);s=co(e.serverSyncTree_,a,h)}var p=a;s.length>0&&(p=os(e,a)),Ea(e.eventQueue_,p,s)}function Oa(e,t){e.interceptServerDataCallback_=t}function Ba(e,t){Qa(e,"connected",t),!1===t&&ja(e)}function La(e,t){M(t,(function(t,n){Qa(e,t,n)}))}function Qa(e,t,n){var r=new ct("/.info/"+t),i=wn(n);e.infoData_.updateSnapshot(r,i);var o=co(e.infoSyncTree_,r,i);Ea(e.eventQueue_,r,o)}function Fa(e){return e.nextWriteId_++}function Ma(e,t){var n=mo(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=wn(n).withIndex(t._queryParams.getIndex()),i=co(e.serverSyncTree_,t._path,r);return ba(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return $a(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))}function qa(e,t,n,r,i){$a(e,"set",{path:t.toString(),value:n,priority:r});var o=Na(e),a=wn(n,r),s=Ao(e.serverSyncTree_,t),l=jo(a,s,o),u=Fa(e),c=so(e.serverSyncTree_,t,l,u,!0);Ca(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||T("set at "+t+" failed: "+n);var a=uo(e.serverSyncTree_,u,!o);Ea(e.eventQueue_,t,a),es(e,i,n,r)}));var h=hs(e,t);os(e,h),Ea(e.eventQueue_,h,[])}function za(e,t,n,r){$a(e,"update",{path:t.toString(),value:n});var i=!0,o=Na(e),a={};if(M(n,(function(n,r){i=!1,a[n]=zo(At(t,n),wn(r),e.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),es(e,r,"ok",void 0);else{var s=Fa(e),l=lo(e.serverSyncTree_,t,a,s);Ca(e.eventQueue_,l),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||T("update at "+t+" failed: "+n);var a=uo(e.serverSyncTree_,s,!o),l=a.length>0?os(e,t):t;Ea(e.eventQueue_,l,a),es(e,r,n,i)})),M(n,(function(n){var r=hs(e,At(t,n));os(e,r)})),Ea(e.eventQueue_,t,[])}}function ja(e){$a(e,"onDisconnectEvents");var t=Na(e),n=$n();nr(e.onDisconnect_,ht(),(function(r,i){var o=zo(r,i,e.serverSyncTree_,t);er(n,r,o)}));var r=[];nr(n,ht(),(function(t,n){r=r.concat(co(e.serverSyncTree_,t,n));var i=hs(e,t);os(e,i)})),e.onDisconnect_=$n(),Ea(e.eventQueue_,ht(),r)}function Ua(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&tr(e.onDisconnect_,t),es(e,n,r,i)}))}function Ha(e,t,n,r){var i=wn(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&er(e.onDisconnect_,t,i),es(e,r,n,o)}))}function Wa(e,t,n,r,i){var o=wn(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&er(e.onDisconnect_,t,o),es(e,i,n,r)}))}function Ya(e,t,n,r){if((0,o.xb)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void es(e,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=wn(r);er(e.onDisconnect_,At(t,n),i)})),es(e,r,i,o)}))}function Ka(e,t,n){var r;r=".info"===pt(t._path)?yo(e.infoSyncTree_,t,n):yo(e.serverSyncTree_,t,n),ba(e.eventQueue_,t._path,r)}function Va(e,t,n){var r;r=".info"===pt(t._path)?vo(e.infoSyncTree_,t,n):vo(e.serverSyncTree_,t,n),ba(e.eventQueue_,t._path,r)}function Ga(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ia)}function Za(e){e.persistentConnection_&&e.persistentConnection_.resume(Ia)}function Ja(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new or(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}function Xa(e,t){e.stats_.incrementCounter(t),cr(e.statsReporter_,t)}function $a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),E.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function es(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function ts(e,t,n,r,i,a){$a(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:y(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=ns(e,t,void 0);s.currentInputSnapshot=l;var u=s.update(l.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ca("transaction failed: Data returned ",u,s.path),s.status=0;var c=Wo(e.transactionQueueTree_,t),h=Yo(c)||[];h.push(s),Ko(c,h);var p=void 0;if("object"===typeof u&&null!==u&&(0,o.r3)(u,".priority"))p=(0,o.DV)(u,".priority"),(0,o.hu)(la(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var d=Ao(e.serverSyncTree_,t)||_n.EMPTY_NODE;p=d.getPriority().val()}var f=Na(e),v=wn(u,p),g=jo(v,l,f);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=g,s.currentWriteId=Fa(e);var _=so(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);Ea(e.eventQueue_,t,_),rs(e,e.transactionQueueTree_)}}function ns(e,t,n){return Ao(e.serverSyncTree_,t,n)||_n.EMPTY_NODE}function rs(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||cs(e,t),Yo(t)){var n=ls(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&is(e,$o(t),n)}else Vo(t)&&Zo(t,(function(t){rs(e,t)}))}function is(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ns(e,t,r),a=i,s=i.hash(),l=0;l<n.length;l++){var u=n[l];(0,o.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=wt(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var h=a.val(!0),p=t;e.server_.put(p.toString(),h,(function(r){$a(e,"transaction put response",{path:p.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(uo(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);cs(e,Wo(e.transactionQueueTree_,t)),rs(e,e.transactionQueueTree_),Ea(e.eventQueue_,t,i);for(s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{T("transaction at "+p.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}os(e,t)}}),s)}function os(e,t){var n=ss(e,t),r=$o(n),i=ls(e,n);return as(e,i,r),r}function as(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),s=a.map((function(e){return e.currentWriteId})),l=function(a){var l,u=t[a],c=wt(n,u.path),h=!1;if((0,o.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,l=u.abortReason,i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Ta)h=!0,l="maxretry",i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0));else{var p=ns(e,u.path,s);u.currentInputSnapshot=p;var d=t[a].update(p.val());if(void 0!==d){ca("transaction failed: Data returned ",d,u.path);var f=wn(d),v="object"===typeof d&&null!=d&&(0,o.r3)(d,".priority");v||(f=f.updatePriority(p.getPriority()));var g=u.currentWriteId,_=Na(e),y=jo(f,p,_);u.currentOutputSnapshotRaw=f,u.currentOutputSnapshotResolved=y,u.currentWriteId=Fa(e),s.splice(s.indexOf(g),1),i=i.concat(so(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(uo(e.serverSyncTree_,g,!0))}else h=!0,l="nodata",i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0))}Ea(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===l?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(l),!1,null)}))))},u=0;u<t.length;u++)l(u);cs(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)V(r[u]);rs(e,e.transactionQueueTree_)}}function ss(e,t){var n,r=e.transactionQueueTree_;n=pt(t);while(null!==n&&void 0===Yo(r))r=Wo(r,n),t=ft(t),n=pt(t);return r}function ls(e,t){var n=[];return us(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function us(e,t,n){var r=Yo(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Zo(t,(function(t){us(e,t,n)}))}function cs(e,t){var n=Yo(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ko(t,n.length>0?n:void 0)}Zo(t,(function(t){cs(e,t)}))}function hs(e,t){var n=$o(ss(e,t)),r=Wo(e.transactionQueueTree_,t);return Xo(r,(function(t){ps(e,t)})),ps(e,r),Jo(r,(function(t){ps(e,t)})),n}function ps(e,t){var n=Yo(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(uo(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ko(t,void 0):n.length=a+1,Ea(e.eventQueue_,$o(t),i);for(s=0;s<r.length;s++)V(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}function fs(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var l=s.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):T("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var vs=function(e,t){var n=gs(e),r=n.namespace;"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||S();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new he(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ct(n.pathString)}},gs=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",l=443;if("string"===typeof e){var u=e.indexOf("//");u>=0&&(s=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=ds(e.substring(c,h)));var p=fs(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(u+1),10)):u=t.length;var d=t.slice(0,u);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var f=t.indexOf(".");r=t.substring(0,f).toLowerCase(),n=t.substring(f+1),o=r}"ns"in p&&(o=p["ns"])}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},_s=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),ys=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),As=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),ms=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.BH;return Ua(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ya("OnDisconnect.remove",this._path);var e=new o.BH;return Ha(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ya("OnDisconnect.set",this._path),ua("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return Ha(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ya("OnDisconnect.setWithPriority",this._path),ua("OnDisconnect.setWithPriority",e,this._path,!1),da("OnDisconnect.setWithPriority",t,!1);var n=new o.BH;return Wa(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ya("OnDisconnect.update",this._path),pa("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return Ya(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),ws=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return mt(this._path)?null:vt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new xs(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Zn(this._queryParams),t=Q(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Zn(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=(0,o.m9)(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=bt(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+gt(this._path)},e}();function Cs(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function bs(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Wt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==N)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){var s=e.getIndexEndName();if(s!==R)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===hn){if(null!=t&&!la(t)||null!=n&&!la(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof Cn||e.getIndex()===En,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Es(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var xs=function(e){function t(t,n){return e.call(this,t,n,new qn,!1)||this}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=yt(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this;while(null!==e.parent)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(ws),ks=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ct(t),r=Ss(this.ref,t);return new e(this._node.getChild(n),r,hn)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,(function(r,i){return t(new e(i,Ss(n.ref,r),hn))}))},e.prototype.hasChild=function(e){var t=new ct(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Is(e,t){return e=(0,o.m9)(e),e._checkNotDeleted("ref"),void 0!==t?Ss(e._root,t):e._root}function Ts(e,t){e=(0,o.m9)(e),e._checkNotDeleted("refFromURL");var n=vs(t,e._repo.repoInfo_.nodeAdmin);Aa("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||I("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Is(e,n.path.toString())}function Ss(e,t){return e=(0,o.m9)(e),null===pt(e._path)?_a("child","path",t,!1):ga("child","path",t,!1),new xs(e._repo,At(e._path,t))}function Ps(e,t){e=(0,o.m9)(e),ya("push",e._path),ua("push",t,e._path,!0);var n,r=Da(e._repo),i=Sn(r),a=Ss(e,i),s=Ss(e,i);return n=null!=t?Ns(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ds(e){return ya("remove",e._path),Ns(e,null)}function Ns(e,t){e=(0,o.m9)(e),ya("set",e._path),ua("set",t,e._path,!1);var n=new o.BH;return qa(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Rs(e,t){e=(0,o.m9)(e),ya("setPriority",e._path),da("setPriority",t,!1);var n=new o.BH;return qa(e._repo,At(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Os(e,t,n){if(ya("setWithPriority",e._path),ua("setWithPriority",t,e._path,!1),da("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return qa(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Bs(e,t){pa("update",t,e._path,!1);var n=new o.BH;return za(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ls(e){return e=(0,o.m9)(e),Ma(e._repo,e).then((function(t){return new ks(t,new xs(e._repo,e._path),e._queryParams.getIndex())}))}var Qs=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new _s("value",this,new ks(e.snapshotNode,new xs(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ys(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Fs=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ys(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=Ss(new xs(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new _s(e.type,this,new ks(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Ms(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Va(e._repo,e,u),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var l=new As(n,o||void 0),u="value"===t?new Qs(l):new Fs(t,l);return Ka(e._repo,e,u),function(){return Va(e._repo,e,u)}}function qs(e,t,n,r){return Ms(e,"value",t,n,r)}function zs(e,t,n,r){return Ms(e,"child_added",t,n,r)}function js(e,t,n,r){return Ms(e,"child_changed",t,n,r)}function Us(e,t,n,r){return Ms(e,"child_moved",t,n,r)}function Hs(e,t,n,r){return Ms(e,"child_removed",t,n,r)}function Ws(e,t,n){var r=null,i=n?new As(n):null;"value"===t?r=new Qs(i):t&&(r=new Fs(t,i)),Va(e._repo,e,r)}var Ys=function(){function e(){}return e}(),Ks=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ua("endAt",this._value,e._path,!0);var t=Yn(e._queryParams,this._value,this._key);if(Es(t),bs(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ws(e._repo,e._path,t,e._orderByCalled)},t}(Ys);function Vs(e,t){return va("endAt","key",t,!0),new Ks(e,t)}var Gs=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ua("endBefore",this._value,e._path,!1);var t=Kn(e._queryParams,this._value,this._key);if(Es(t),bs(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ws(e._repo,e._path,t,e._orderByCalled)},t}(Ys);function Zs(e,t){return va("endBefore","key",t,!0),new Gs(e,t)}var Js=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ua("startAt",this._value,e._path,!0);var t=Hn(e._queryParams,this._value,this._key);if(Es(t),bs(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ws(e._repo,e._path,t,e._orderByCalled)},t}(Ys);function Xs(e,t){return void 0===e&&(e=null),va("startAt","key",t,!0),new Js(e,t)}var $s=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ua("startAfter",this._value,e._path,!1);var t=Wn(e._queryParams,this._value,this._key);if(Es(t),bs(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ws(e._repo,e._path,t,e._orderByCalled)},t}(Ys);function el(e,t){return va("startAfter","key",t,!0),new $s(e,t)}var tl=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ws(e._repo,e._path,jn(e._queryParams,this._limit),e._orderByCalled)},t}(Ys);function nl(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tl(e)}var rl=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ws(e._repo,e._path,Un(e._queryParams,this._limit),e._orderByCalled)},t}(Ys);function il(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rl(e)}var ol=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Cs(e,"orderByChild");var t=new ct(this._path);if(mt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Cn(t),r=Vn(e._queryParams,n);return bs(r),new ws(e._repo,e._path,r,!0)},t}(Ys);function al(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ga("orderByChild","path",e,!1),new ol(e)}var sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Cs(e,"orderByKey");var t=Vn(e._queryParams,Wt);return bs(t),new ws(e._repo,e._path,t,!0)},t}(Ys);function ll(){return new sl}var ul=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Cs(e,"orderByPriority");var t=Vn(e._queryParams,hn);return bs(t),new ws(e._repo,e._path,t,!0)},t}(Ys);function cl(){return new ul}var hl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Cs(e,"orderByValue");var t=Vn(e._queryParams,En);return bs(t),new ws(e._repo,e._path,t,!0)},t}(Ys);function pl(){return new hl}var dl=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(ua("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ks(this._value,this._key)._apply(new Js(this._value,this._key)._apply(e))},t}(Ys);function fl(e,t){return va("equalTo","key",t,!0),new dl(e,t)}function vl(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var l=(0,a.XA)(r),u=l.next();!u.done;u=l.next()){var c=u.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s}Hi(xs),ro(xs);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gl="FIREBASE_DATABASE_EMULATOR_HOST",_l={},yl=!1;function Al(e,t,n,r){e.repoInfo_=new he(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function ml(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=vs(o,i),l=s.repoInfo,u=void 0;"undefined"!==typeof process&&(u={NODE_ENV:"production",BASE_URL:"/gw2_vue/"}[gl]),u?(a=!0,o="http://"+u+"?ns="+l.namespace,s=vs(o,i),l=s.repoInfo):a=!s.repoInfo.secure;var c=i&&a?new $($.OWNER):new X(e.name,e.options,t);Aa("Invalid Firebase Database URL",s),mt(s.path)||I("Database URL must point to the root of a Firebase Database (not including a child path).");var h=Cl(l,e,c,new J(e.name,n));return new El(h,e)}function wl(e,t){var n=_l[t];n&&n[e.key]===e||I("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ga(e),delete n[e.key]}function Cl(e,t,n,r){var i=_l[t.name];i||(i={},_l[t.name]=i);var o=i[e.toURLString()];return o&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Sa(e,yl,n,r),i[e.toURLString()]=o,o}function bl(e){yl=e}var El=function(){function e(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Pa(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new xs(this._repo,ht())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(wl(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&I("Cannot call "+e+" on a deleted database.")},e}();function xl(e,t,n,r){void 0===r&&(r={}),e=(0,o.m9)(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&I("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&I('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new $($.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.Sg)(r.mockUserToken,e.app.options.projectId);a=new $(s)}Al(i,t,n,a)}function kl(e){e=(0,o.m9)(e),e._checkNotDeleted("goOffline"),Ga(e._repo)}function Il(e){e=(0,o.m9)(e),e._checkNotDeleted("goOnline"),Za(e._repo)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tl={".sv":"timestamp"};function Sl(){return Tl}function Pl(e){return{".sv":{increment:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Nl(e,t,n){var r;if(e=(0,o.m9)(e),ya("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=function(t,n,r){var i=null;t?a.reject(t):(i=new ks(r,new xs(e._repo,e._path),hn),a.resolve(new Dl(n,i)))},l=qs(e,(function(){}));return ts(e._repo,e._path,t,s,l,i),a.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rl=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ol=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Bl=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),ga("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ga("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ql(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ll=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(l.context,new Bl(s.database,e),t)};u.userCallback=n,u.context=l.context;var c=null===(a=l.cancel)||void 0===a?void 0:a.bind(l.context);switch(t){case"value":return qs(this._delegate,u,c),n;case"child_added":return zs(this._delegate,u,c),n;case"child_removed":return Hs(this._delegate,u,c),n;case"child_changed":return js(this._delegate,u,c),n;case"child_moved":return Us(this._delegate,u,c),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),fa("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Ws(this._delegate,e,r)}else Ws(this._delegate,e)},e.prototype.get=function(){var e=this;return Ls(this._delegate).then((function(t){return new Bl(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),l=new o.BH,u=function(e,t){var r=new Bl(a.database,e);n&&n.call(s.context,r,t),l.resolve(r)};u.userCallback=n,u.context=s.context;var c=function(e){s.cancel&&s.cancel.call(s.context,e),l.reject(e)};switch(t){case"value":qs(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":zs(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Hs(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":js(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Us(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,vl(this._delegate,nl(t)))},e.prototype.limitToLast=function(t){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,vl(this._delegate,il(t)))},e.prototype.orderByChild=function(t){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,vl(this._delegate,al(t)))},e.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,vl(this._delegate,ll()))},e.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,vl(this._delegate,cl()))},e.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,vl(this._delegate,pl()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,vl(this._delegate,Xs(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,vl(this._delegate,el(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,vl(this._delegate,Vs(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,vl(this._delegate,Zs(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,vl(this._delegate,fl(t,n)))},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ql(this.database,new xs(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ql=function(e){function t(t,n){var r=e.call(this,t,new ws(n._repo,n._path,new qn,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Ss(this._delegate,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);var n=Ns(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ya("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=Bs(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=Os(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=Ds(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),ma("Reference.transaction","applyLocally",n,!0);var i=Nl(this._delegate,e,{applyLocally:n}).then((function(e){return new Ol(e.committed,new Bl(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);var n=Rs(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Ps(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ya("Reference.onDisconnect",this._delegate._path),new Rl(new ms(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ll),Fl=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),xl(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Ql){var t=Ts(this._delegate,e.toString());return new Ql(this,t)}t=Is(this._delegate,e);return new Ql(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);var n=Ts(this._delegate,e);return new Ql(this,n)},e.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),kl(this._delegate)},e.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),Il(this._delegate)},e.ServerValue={TIMESTAMP:Sl(),increment:function(e){return Pl(e)}},e}(),Ml=function(){je.forceDisallow(),Qe.forceAllow()},ql=function(){Qe.forceDisallow()},zl=function(){return je["isAvailable"]()},jl=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},Ul=function(e,t){Ja(e._delegate._repo,t)},Hl=function(e,t){Xa(e._delegate._repo,t)},Wl=function(e){return e._delegate._repo.dataUpdateCount},Yl=function(e,t){return Oa(e._delegate._repo,t)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,l=void 0!==s&&s;h(r);var u=new i.zt("auth-internal",new i.H0("database-standalone"));return u.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Fl(ml(t,u,void 0,n,l),t),namespace:a}}var Vl=Object.freeze({__proto__:null,forceLongPolling:Ml,forceWebSockets:ql,isWebSocketsAvailable:zl,setSecurityDebugCallback:jl,stats:Ul,statsIncrementCounter:Hl,dataUpdateCount:Wl,interceptServerData:Yl,initStandalone:Kl}),Gl=zt;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},zt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Zl=it,Jl=function(e){var t=zt.prototype.put;return zt.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){zt.prototype.put=t}},Xl=he,$l=function(e){return e._delegate._queryIdentifier},eu=function(e){bl(e)},tu=Object.freeze({__proto__:null,DataConnection:Gl,RealTimeConnection:Zl,hijackHash:Jl,ConnectionTarget:Xl,queryIdentifier:$l,forceRestClient:eu}),nu=Fl.ServerValue;function ru(t){h(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Fl(ml(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Ql,Query:Ll,Database:Fl,DataSnapshot:Bl,enableLogging:b,INTERNAL:Vl,ServerValue:nu,TEST_ACCESS:tu}).setMultipleInstances(!0));t.registerVersion(l,u),(0,o.Yr)()&&(e.exports=n)}ru(r.Z)},4964:function(e,t,n){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.d(t,{Am:function(){return d},Ub:function(){return p},Yd:function(){return h},in:function(){return o}});var o,a=[];(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,u=(i={},i[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function p(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){var l=i[r];n(l)}}},4589:function(e,t,n){n.d(t,{BH:function(){return g},DV:function(){return B},Dv:function(){return H},GJ:function(){return R},LL:function(){return k},Pz:function(){return P},Sg:function(){return _},UG:function(){return m},UI:function(){return Q},US:function(){return u},Wj:function(){return Y},Yr:function(){return b},ZB:function(){return f},b$:function(){return C},cI:function(){return S},dS:function(){return V},g5:function(){return a},gK:function(){return W},gQ:function(){return M},h$:function(){return c},hu:function(){return o},jU:function(){return w},lb:function(){return K},m9:function(){return Z},ne:function(){return q},p$:function(){return d},r3:function(){return O},uI:function(){return A},ug:function(){return G},w9:function(){return N},xO:function(){return F},xb:function(){return L}});var r=n(655),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=e[n++];var a=e[n++],s=e[n++],l=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,p=(15&s)<<2|u>>6,d=63&u;l||(d=64,a||(p=64)),r.push(n[c],n[h],n[p],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,s=a?n[e.charAt(i)]:0;++i;var l=i<e.length,u=l?n[e.charAt(i)]:64;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==u||null==h)throw Error();var p=o<<2|s>>4;if(r.push(p),64!==u){var d=s<<4&240|u>>2;if(r.push(d),64!==h){var f=u<<6&192|h;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},h=function(e){return c(e).replace(/\./g,"")},p=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&v(r)&&(e[r]=f(e[r],t[r]));return e}function v(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.pi)({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[h(JSON.stringify(n)),h(JSON.stringify(s)),l].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function A(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"object"===typeof self&&self.self===self}function C(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function b(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var E="FirebaseError",x=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=E,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,k.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),k=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?I(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",l=new x(i,s,r);return l},e}();function I(e,t){return e.replace(T,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var T=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(e){return JSON.parse(e)}function P(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=S(p(o[0])||""),n=S(p(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(a){}return{header:t,claims:n,data:r,signature:i}},N=function(e){var t=D(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},R=function(e){var t=D(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function L(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function F(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n(a,s)}return t.length?"&"+t.join("&"):""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var M=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],l=this.chain_[1],u=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^l&(u^c),a=1518500249):(o=l^u^c,a=1859775393):r<60?(o=l&u|c&(l|u),a=2400959708):(o=l^u^c,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=u,u=4294967295&(l<<30|l>>>2),l=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<t){if(0===o)while(r<=n)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){while(r<t)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<t)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function q(e,t){var n=new z(e,t);return n.subscribe.bind(n)}var z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=j(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function j(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}function U(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function W(e,t){return e+" failed: "+t+" argument "}function Y(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(W(e,t)+"must be a valid function.")}function K(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(W(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(r)-56320;i=65536+(a<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},G=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Z(e){return e&&e._delegate?e._delegate:e}},655:function(e,t,n){n.d(t,{CR:function(){return u},Jh:function(){return s},XA:function(){return l},ZT:function(){return i},ev:function(){return c},mG:function(){return a},pi:function(){return o}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function l(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},7336:function(e,t,n){n.r(t),n.d(t,{default:function(){return Mi}});var r=n(6252),i=n(3577),o=n(9963),a=n.p+"img/guardian.6f36cf5e.png",s=n.p+"img/revenant.2c67dd64.png",l=n.p+"img/engineer.957ef98a.png",u=n.p+"img/ranger.f3f41ce5.png",c=n.p+"img/mesmer.e426e4a2.png",h=n.p+"img/necromancer.03386299.png",p=n.p+"img/thief.b5756a2a.png",d=n.p+"img/elementalist.5421e617.png",f=n.p+"img/warrior.316ded72.png",v=n.p+"img/dragonhunter.42f19030.png",g=n.p+"img/firebrand.d2450a6c.png",_=n.p+"img/willbender.c92f2149.png",y=n.p+"img/herald.db48bfc1.png",A=n.p+"img/renegade.cc9b9908.png",m=n.p+"img/vindicator.e4cf24aa.png",w=n.p+"img/druid.0f8f8b56.png",C=n.p+"img/soulbeast.47759f41.png",b=n.p+"img/untamed.6514d62d.png",E=n.p+"img/scrapper.bb5cbc17.png",x=n.p+"img/holosmith.12fad6c9.png",k=n.p+"img/mechanist.94415e75.png",I=n.p+"img/chronomancer.48775118.png",T=n.p+"img/mirage.8b96ee21.png",S=n.p+"img/virtuoso.540cfdb9.png",P=n.p+"img/daredevil.891e7d40.png",D=n.p+"img/deadeye.8380028f.png",N=n.p+"img/specter.dfab1ee7.png",R=n.p+"img/reaper.1a778808.png",O=n.p+"img/scourge.be532ba2.png",B=n.p+"img/harbringer.c8761ea3.png",L=n.p+"img/berserker.e2ab86bf.png",Q=n.p+"img/spellbreaker.7b50a3d0.png",F=n.p+"img/bladesworn.ab3089f5.png",M=n.p+"img/tempest.109064d1.png",q=n.p+"img/weaver.02c45b8b.png",z=n.p+"img/catalyst.5de26bd1.png",j=n.p+"img/pdps.4c65a82b.png",U=n.p+"img/condi.6892e2ae.png",H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUvSURBVFhHvZfPbxtFFMdf1vFmnbXNWnGDQ1qXRFAkUqFSUENCokhVDwjEiRMnJKSq4lapHDj1xJEL/wVCcODAAYWmqhQRRUiJQhA/ipSg2MHGSYlJbO92N3b63psZ9oeHtFz4RF/N213Pzpv33sxOBpyiUwCAV1CMdww9aQoGLWlIjj1pCCzHkZbEiz+HQdlK8HH0ziY5cM0/M74ob0Bg2dISWMOJ66fy0hKYA9KQ+EPx3wf7NWkJ2ofCwVR1m5rr7EB7anoxGB3nB0YvgN7kBbaJUpECFGIHvrQEqcMm2FMvySuAxl5TWoJ2W0Zk6ydumsMFMCrb7ADqusF3I0QHfxz52YXY4Kcy+aIQ0js3wS2BEShd9c+W73Rm5vlGrjjKbT6bQ4XhTg+Z3NqZYW6JO+++BRlsZ7/4WtxAvE5YAwcPmhB0RcTablu0fx9xm95YBXNj9f2+CBy1DqUVxxxKg50PB789d1laAB+/FtrWsMUiCiMO2LKG7Ey8NhR9DuhQs1cslMdg4dyYvAK4enaMFUU5QQMrJ3T0OZCLhJ2gwWn2/sMAK7jDg99+PZyxgqLwOCd0UTAoY71BE6ysw0qhT3k7xx0sy+Kcpw0MP7akt58vc96Vorw5WQZrMBMTr3pUKp3iyTgjI6xMLoceWv0RsG30FKVj+plRmB0tsv3J5q/wzrffscgm6NlsaYRthZVJbGQJ/rUGdHkjBwgacOXPB2wTZCsnZhIOEOSEU3CgkNw1kScqQsX0mHAgOrhC3UtGIIqX3KYRg/f2k67Y81HptAkpI8X5J0WptcQLXi2O0DeDlaRGg8i8R3d9zxV9AxyK1D3hy/8WgdOYefqUmcvBdWgdoJlTuJIh29gTYZ7ThHlWOrC+H/8WEFQD9C5Xm4IEGRl2nQM/NIQD8yWxEqKo1bG+f8BtFIqAbnDCoNnyThfJm4d10cU/6kS20uofVVisNMDF3N+ceo6fH6AuOnm+R1qrYwSoNpSCeAp8/CaQurix0XNtCrrHWCVIJhsvwpnxMZiTK0G1xEeXLkqrfxV4vn7mij4HfC+A1GCKFeXWlcvw4ZWX5ZVgHp2YL4WOELcuXWApLBNX05AFGZSOlJXNTpwUiu+pc4BtDkHaFOuHImGa4kO0sluDylELPt38Dc7nbCijAE9D1JazNizXG/DB8ip8fr8KK/Vwn2h1WuwE/dZ76EG7JT7LRn2X9JXBxdZxwcM1zgowZDJ/GAfOn8ohOdE8OoBvtvg4xWmYkxFY+r0K3pHLNlHfq+GAeI0xpvrhFt8f4ImK1O2JNGtrwMW8KelY2qlKK+ReJX72c/IOz1hBk1BfxyhaBxT0AjrVuJEoKJYqoRP3quHgNGsh7EP9/2qy6B06/nHA2L7PbbQzh1CSdOLuzq604g408ZBKfRUZ3ISUosc1hcFrnwpeusI5x5rAbYDVpe8E/aeAcvGEe4A7HenLtR9hGzedpufCZ9+vQ61eZ1HtePg7kos5bzQa/B4qPj4fdvFFJJ82CC+MQO98/DTMkcAaaHfafKBUh8ongTeoJkYCW/qsc398j46+GuAlg9DgKpSqc9KJ5couLG3vyCuBGpjwMDqqLzmiQ1uE0cE7clCORGIWy7galrbiDtCgSgpdX8WAUypd8599YTGYkCk4E9/ZaAOJk5atJHEJtMdHSfaXhZz+eQ3MX9ZvaCPwf8IRwHYRoyDuJA+k8U8CVnnCZ7Frh/jxf677+suljbOn5gY5QIf5N+hKS3KA5FJOPqdtPErfcy+SNLj7COUPdWofhlVUAAAAAElFTkSuQmCC",W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAS5SURBVFhHxZdhaBtlGMcPssIxNgg4tChsCxSlMhzVYbFblYWVYrDMFoZuEJiUYkUaP1QGEiZCy4q1OI2BYqjbB40OMdgNE8ZmKtukToZVKd4ckUhxNFQHx1whH/zw+Pzfu+fy3iVpO2QY+PEeaXa/3/vc5doZd/syt5jCAeabsMMBxgD3/MXSOMTRR0wCsUcd3JC4+7F78hp5+IGWEqTJqEn5uMNYr0nFIQeEtPNn8Fnnn/zHVygU2sHSFMSjPWECIhZELiT5MwAhTArncE/X5LUpCF/HTWYbk+rcwRI+qc78kOFjYcT0MfdaRJHtMxThMF+esJli2hjDZIdOQG4MsLQAcaLLpOwhv3whfZDIXvBhX5qi8nTMw3ov6oGQL1+5j452b5WQAksHGgVsZuY6d4Y8sSDy5W+nie6UlfTWpbfpxgc9akUA/cUxDALsc4MKyLEiQEAIS8EcszkYQInuloYBnpyBWEd2LiGye8ix6gHg/ZgKAG6Age+uggafYGk/XzuXKxO9tPrrLNE/tlrLqQ6P1dIFtd769CD9ffEYVVLt6rhqW1SebKflLwYVixwB5CZ9Y79JcNW87kHHg/4AyJeKJ5Uc6HIJACLGCiDVIyBf+TrpC9i3s0lAus8fQHesugDZ+UrhGOEluwfVH2e8nds/zKgIyPUp5F/aYIDavRsQHL+AGEglAEAKEKBfAplC0wCGEnudDwC56ahaoduLZ8jik4LyZMSjUniVAytUyTzlIT9b/uR5ql7P0bWxTlrKJRT5wwbl+OEFV83rHnRuXz8AK6QiWfqwSwXYF0Z9AXbxTS8AYkQACeji50zDgOxhR758ufa1QwCQCUCqB0BaLeXqJgCciKwvYPTpDQQEJ6AH6AIAKaYgEcGfSwDkawYwajw5lgOcVGflcoYWJ/vIOhHxsZKL0+pPGbVCKO9Xzg4rqr/naf6dqHfepvcAqjYSYF9LU+WrhCdS3xQmGCCU88m6gIYTwJsYz9X0gPrgzasf1UUgQJfjWAJk5LocIABIQNNLEAzAGgzAFPSTYxrNAuzvptS64QCGpvhBNDcRU2TjYbJLRX7W8ZOQWb5+Xq03Z4e9G/L2L2f4LYvs76dp4XirS8Tjt1MDVP1jnsqFCefyMsNPNrkHdvOTEAEQW2fHvFUCvAieBOQIUZPhAIjLH7+gVkj1CATMT/b6AvY81CQgjl9GrlimIDv3YCl2LhEirk2BpXzn6xMQOZjpXydALoFMIX8i5o9w7weAAEdam4Bv9xyij79xgPM3IKAXd5t0+vVnaLyPp3Blhi7OjFA63qqo2mUFVf2s/Pw5LX6WoOLxDsXsW720eP6k+pUMTg+0UI4fcGC8x1CXmcX1Abt4AhKgR+TfPeKLCAboEwEiBoiRgNRzIQUCMO2GAeM9DIuxc6wIseb8ETeK/NVbJwDiqWd5twyk2DlCcIzLvG6AHgGpHiEnPjcWUzEYv34Z5OcC5LJ7HDcNiGzjP8n28Neka6tHuj9MmZF9FO/erlbr1BGyUlHKvLyL4nvvV9QJ969NkjFNExhgzQAAuQ9XLAx1tvg4+vjaHHos1Dwg2vY/BjAlBv/L/VMnssXwE/bTui18V7jykhNgGv8C44ep2C8PzRoAAAAASUVORK5CYII=",Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQGSURBVFhHvZdvaFNXGIcvZIELWeF+coUJqxK0bGOjUCf+QbBaSpQIdZRJUbCVwkLtnEiFIgpKQCOVlVIUalHJ1nWUhW1lKWWjooiXSfFa1q5SIgFRDEIlH/PBD6/v7yTn5pzbpkmq84WHc9Le3N9z33Ny0hpvUSHmrvmBMcmEGAO8j+rYucl3t2+/n8D5cJ699T6I9BSu+V+qp2mzkUJo8qTpMq0AkeZ6XwrXMkHxrresDcwggqMHDLJ7DS3cKwCcPpNira7IILMJN6q4LFMQZAbDX/jJ7jE1Zq400nQvhxWwey2ds7WCv79nwYhB4S99ZH1oDDIhpmyFOHgSwbGvA2T38Q09Amp4KYE7p5WRr4kd9EuRSWTko5bX5LFdhgh2w9cggCdHsAQCEoi0feUnZOUjlWr4xEgNHVku8OSP04LMXCLP7X5tGRC6MBym3DNbjGo4ZFQBMH48ICX0Tdq40UiNdPEm46cEzo12euEkKJdZcFm4HibnLP9OwVvpnw6JjSixeWOqjJ/gLmz1lReQeJ9ABmfnE4VIvbKzY2445qil2QQt3mp/dwJqLf7MN+YwjKJe54rhPJf1TgXSv7S7nUC4RBRCVQpVdgm2f+pLJfiG6g4Xm0x+GiR8GKlIkVJLgpq71caHlCEYj7DAlgoE5uKH6KUzRkv//iZYTaBUuH2h1g2uWADB3hauJoDlKFVrElDbD9xgRWB+aDs9/fMUZflcKFVL/03Q4q9dlQvsZIEkBPgI1ThpaThX91F6Kqp3SQEHEpgdbhFMs7TKaCRAB7escBCpArM/HqHnD+KCmYGmZQIrBb98OMa/L3bu+e2LgvTUORGMEZQVQGgumxFgroZDJrs4XZGAlMg+TrrhFXdgpSVAeObRaEkBiWh7QQBzKVB2CRrqfKmhDpNGu3QSEf5iubyX5sf7KDOTEDf8Z6CFDylLMHfT86nJZcm53iYOMYzpiW66Fw3yaxxyBv1wOEAt/HXPkZUJqOFABkvkX0JYAq8AUMOrFkie3+aGQwTdWElA7cIL3jcyPE8xvCoB+0Y3Lfw1IgQQLPEKqOHogh5ehcDnH/tT0VaL4icaaWrgKDkT/WIe76zRGOmwNNBykL4/Kl6PdZqCZCRP/CjvI34ggHnsmwA1f7aKAMJBf9gUyOBrbO4VyDy23WAJQqUEkAIYr7VXICCDXdr4jYVwjDLI+T0mUMPB8GFTA6EAArjXmgUA5ghJXgoLvOFABuNaiXx6zEsKbFhnpo7trqVTTTUaZ0KmRrRVRw0C0WVYGt3NFm/CQHUCnTuKAt17dL5rzgdjBN/yzwDC8/MajaoFEC4pJaAiBYpUIcBQw3rzlUadzrZ6nYagB8/1XoIf+YnB/40sYBhvAEA6YTcM4xc1AAAAAElFTkSuQmCC",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAABQ9JREFUWIW1V11MHFUU/mbusM5WqxZiQmxTWwNtaLTrrgsLK4jhqbswvPStKDY+NRi3NTEx9MHUxISYmKaF2hAl2vJmE16AzpQQV2jtCuxKgzaiZdVYEOuD/ATLDrB3xofZmb0z7C4B9SQ3c+feM+d85/fe4Ur3lYIgSxQAOHbFQXr+LUaCRcQhiwjETQh5HAAopYs8u23NdbuQ/5D4jPI1SukipXRdoIxim1oTRF5vmNwkMy/gtYxyF3EVU0rXAKxSStcBQNgSs04dIJzeMZXnB0E4UkR44gaQopSqLHIhZwic6rYMCbWebsfOuvEQqEZVqlMtA4g355YHtnTgDolwxAWAUp1qhCM8ABfV6UNk0tkC4MyFfICCAW97sNrXDKAyWO0DAMTGJgEgHhub7L8zfqeD5ac6TWeACIQnu6hGVTC1xO3dV1rQAtO5Ab/nfKSt9YzbLXKF+FMpVe++3NuVSEydBoB1I38EwpFHqE7XAKRZfq706aeyb/xmu1VVRfu7p+7V1VaWA4AoirZ90ZHGS0tGjt26HU92fNT9/B5RVNn9lDUjOQDkAPH26ZOWcgCY/PZ7xGIJBYDyTSyhiKIbAEI1Nd5QsMYbOlJxxPr21u14svvSlRCA5GYABgjy2O5H7QA43poG/J7zJ040N1oCv47PdF3seXVudv79udn5CQALglC0AGBibu7BOIByn/eoBfaZ/XuL7//2O+bn/7xhrtn8Dx48ClCkrfUMq7zjw+4wgBu5eGtqvJ3BGm/IuX6qrfWtQjp46DByUiPGM22M4Iues24BHFIqkFLRffFKZI8oJlNpgB2iKB6sCng/b3nteOhg2bNYXlFx7Zo8s7yiYnlFhdsNzhvwnE3BcD8B4LIGZTzA2ZtNMOBpNuedl3qVfJYf9VS81/r68ZPm+5ASVYaUaHhIiSqWrOqsLJNoZhQKgZ+ZK7kYpFDtIKu892rfyJASjQBIsgBYWWbTNikvgGC1x5qPT0w5AZRJodpBKVRnxbz3at/Id1PTbyCb8awHrA+dTV2A2VbMQ8eqQqNgRLcbmVIzVv9ehCQ1dErSKyEAUB+mdHkwqtz8MtYF4FdW+BO7gdRG5iWT/lQAoGV5mByw139s4i77alpaJkkNsiQ1WJbLg1FFvh5thCNHAgGPxTM+NpXd0GCjvCGITdxNWMKqngtlnp2s8oGBqCJfj3blEcGWZCIPT8H7QD+AAANANoGYygcGohG3ICZzfHssUM14YHyqP5+Sza1Yy4bi48vvaEVFu2yHD9lYhTwcU+ThWARA0tHaAKAsHK6Xw+H6cgBQ1zX9zcgHWU+zIeALlyF6evovONfk4diMPBzrBNPfGTrGKgeAns/6NsmwGWQ7C3T7TeDBH38NgUfL4UMHSsy1wwdKSwCUzPwyWwxgARqKAbT4fRXnmhtfPvdSXZXFK8ujM9HRRJNNo26f20OgU0B32SEK4KXG+h+lJsMqsrFq23Yez6rGW8plefRQyhkiRxU4TkMTXhpWs9Q29Hs//dw1d3/2yRcq9gcEQbDlRDqdto2l5RX9k0+/uPDVyERTOp0GdA7QdWPwPAhHwXO6NXJ4wNks7ZD9vop2AM1+X0Vlpc84++OTPyAxOR0H0J+YnLZdycAV2S1m2g2BK1cVoCCAbVMeAARGqAtWwf9JNHNh3/rHBMDOcZLN/5KafZvPdRHdnvJCIdr6H3MHpjkB/7soGl9v6QWWtvvnXJj/H67K9oH8sglNAAAAAElFTkSuQmCC";const V=e=>((0,r.dD)("data-v-29c43902"),e=e(),(0,r.Cn)(),e),G={key:0,id:"outerdivFullPage",class:"roundedz d-block my-0 w-100 float-center mx-auto"},Z={class:"row mx-1 mb-5"},J={class:"col-4 mb-3"},X=V((()=>(0,r._)("img",{class:"icon-xl mx-auto d-block",src:a},null,-1))),$={class:"col-4 mb-3"},ee=V((()=>(0,r._)("img",{class:"icon-xl-xl mx-auto d-block",src:s},null,-1))),te={class:"col-4 mb-3"},ne=V((()=>(0,r._)("img",{class:"icon-xl mx-auto d-block",src:l},null,-1))),re={class:"col-4 mb-3"},ie=V((()=>(0,r._)("img",{class:"icon-xl mx-auto d-block",src:u},null,-1))),oe={class:"col-4 mb-3"},ae=V((()=>(0,r._)("img",{class:"icon-xl mx-auto d-block",src:c},null,-1))),se={class:"col-4 mb-3"},le=V((()=>(0,r._)("img",{class:"icon-xl mx-auto d-block",src:h},null,-1))),ue={class:"col-4 mb-3"},ce=V((()=>(0,r._)("img",{class:"icon-xl mx-auto d-block",src:p},null,-1))),he={class:"col-4 mb-3"},pe=V((()=>(0,r._)("img",{class:"icon-xl mx-auto d-block",src:d},null,-1))),de={class:"col-4 mb-3"},fe=V((()=>(0,r._)("img",{class:"icon-xl mx-auto d-block",src:f},null,-1))),ve={class:"row"},ge=V((()=>(0,r._)("div",{class:"col-3"},null,-1))),_e=V((()=>(0,r._)("h3",{class:"py-2 pt-3 text-center text-light"},[(0,r._)("b",null,"Add Build")],-1))),ye=[_e],Ae=V((()=>(0,r._)("div",{class:"col-3"},null,-1))),me=V((()=>(0,r._)("div",{class:"col-3"},null,-1))),we={class:"col-6 roundedz-btm mx-auto bg-dark border border-2 border-primary mb-5"},Ce={class:"row mt-3 mb-2"},be=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Class")],-1))),Ee={class:"col-xl-1 col-4 text-center"},xe={class:"mx-auto"},ke=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"guardian"},null,-1))),Ie={class:"col-xl-1 col-4 text-center"},Te=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"revenant"},null,-1))),Se={class:"col-xl-1 col-4 text-center"},Pe=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"ranger"},null,-1))),De={class:"col-xl-1 col-4 text-center"},Ne=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"engineer"},null,-1))),Re={class:"col-xl-1 col-4 text-center"},Oe=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"mesmer"},null,-1))),Be={class:"col-xl-1 col-4 text-center"},Le=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"thief"},null,-1))),Qe={class:"col-xl-1 col-4 text-center"},Fe=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"necromancer"},null,-1))),Me={class:"col-xl-1 col-4 text-center"},qe=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"warrior"},null,-1))),ze={class:"col-xl-1 col-4 text-center"},je=V((()=>(0,r._)("input",{type:"radio",id:"radioProfession",name:"class",value:"elementalist"},null,-1))),Ue={key:0,class:"row mb-2"},He=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),We={class:"col-xl-1 col-4 text-center mx-auto"},Ye={class:"mx-auto"},Ke=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"dragonhunter"},null,-1))),Ve={class:"col-xl-1 col-4 text-center mx-auto"},Ge={class:"mx-auto"},Ze=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"firebrand"},null,-1))),Je={class:"col-xl-1 col-4 text-center mx-auto"},Xe={class:"mx-auto"},$e=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"willbender"},null,-1))),et=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),tt={key:1,class:"row mb-2"},nt=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),rt={class:"col-xl-1 col-4 text-center mx-auto"},it={class:"mx-auto"},ot=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"herald"},null,-1))),at={class:"col-xl-1 col-4 text-center mx-auto"},st={class:"mx-auto"},lt=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"renegade"},null,-1))),ut={class:"col-xl-1 col-4 text-center mx-auto"},ct={class:"mx-auto"},ht=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"vindicator"},null,-1))),pt=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),dt={key:2,class:"row mb-2"},ft=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),vt={class:"col-xl-1 col-4 text-center mx-auto"},gt={class:"mx-auto"},_t=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"druid"},null,-1))),yt={class:"col-xl-1 col-4 text-center mx-auto"},At={class:"mx-auto"},mt=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"soulbeast"},null,-1))),wt={class:"col-xl-1 col-4 text-center mx-auto"},Ct={class:"mx-auto"},bt=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"untamed"},null,-1))),Et=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),xt={key:3,class:"row mb-2"},kt=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),It={class:"col-xl-1 col-4 text-center mx-auto"},Tt={class:"mx-auto"},St=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"scrapper"},null,-1))),Pt={class:"col-xl-1 col-4 text-center mx-auto"},Dt={class:"mx-auto"},Nt=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"holosmith"},null,-1))),Rt={class:"col-xl-1 col-4 text-center mx-auto"},Ot={class:"mx-auto"},Bt=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"mechanist"},null,-1))),Lt=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),Qt={key:4,class:"row mb-2"},Ft=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),Mt={class:"col-xl-1 col-4 text-center mx-auto"},qt={class:"mx-auto"},zt=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"chronomancer"},null,-1))),jt={class:"col-xl-1 col-4 text-center mx-auto"},Ut={class:"mx-auto"},Ht=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"mirage"},null,-1))),Wt={class:"col-xl-1 col-4 text-center mx-auto"},Yt={class:"mx-auto"},Kt=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"virtuoso"},null,-1))),Vt=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),Gt={key:5,class:"row mb-2"},Zt=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),Jt={class:"col-xl-1 col-4 text-center mx-auto"},Xt={class:"mx-auto"},$t=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"daredevil"},null,-1))),en={class:"col-xl-1 col-4 text-center mx-auto"},tn={class:"mx-auto"},nn=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"deadeye"},null,-1))),rn={class:"col-xl-1 col-4 text-center mx-auto"},on={class:"mx-auto"},an=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"specter"},null,-1))),sn=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),ln={key:6,class:"row mb-2"},un=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),cn={class:"col-xl-1 col-4 text-center mx-auto"},hn={class:"mx-auto"},pn=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"reaper"},null,-1))),dn={class:"col-xl-1 col-4 text-center mx-auto"},fn={class:"mx-auto"},vn=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"scourge"},null,-1))),gn={class:"col-xl-1 col-4 text-center mx-auto"},_n={class:"mx-auto"},yn=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"harbringer"},null,-1))),An=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),mn={key:7,class:"row mb-2"},wn=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),Cn={class:"col-xl-1 col-4 text-center mx-auto"},bn={class:"mx-auto"},En=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"berserker"},null,-1))),xn={class:"col-xl-1 col-4 text-center mx-auto"},kn={class:"mx-auto"},In=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"spellbreaker"},null,-1))),Tn={class:"col-xl-1 col-4 text-center mx-auto"},Sn={class:"mx-auto"},Pn=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"bladesworn"},null,-1))),Dn=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),Nn={key:8,class:"row mb-2"},Rn=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),On={class:"col-xl-1 col-4 text-center mx-auto"},Bn={class:"mx-auto"},Ln=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"tempest"},null,-1))),Qn={class:"col-xl-1 col-4 text-center mx-auto"},Fn={class:"mx-auto"},Mn=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"weaver"},null,-1))),qn={class:"col-xl-1 col-4 text-center mx-auto"},zn={class:"mx-auto"},jn=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"profession",value:"catalyst"},null,-1))),Un=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),Hn={key:9,class:"row mb-2"},Wn=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Profession")],-1))),Yn=V((()=>(0,r._)("div",{class:"col-xl-9 col-12"},null,-1))),Kn=[Wn,Yn],Vn={class:"row mb-2"},Gn=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Type")],-1))),Zn={class:"col-xl-1 col-4 text-center mx-auto"},Jn={class:"mx-auto"},Xn=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"type",value:"power"},null,-1))),$n={class:"col-xl-1 col-4 text-center mx-auto"},er={class:"mx-auto"},tr=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"type",value:"condi"},null,-1))),nr={class:"col-xl-1 col-4 text-center mx-auto"},rr={class:"mx-auto w-100"},ir=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"type",value:"heal"},null,-1))),or=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),ar={class:"row mb-2"},sr=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Support")],-1))),lr={class:"col-xl-1 col-4 text-center mx-auto"},ur={class:"mx-auto w-100"},cr=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"support",value:"alacrity"},null,-1))),hr={class:"col-xl-1 col-4 text-center mx-auto"},pr={class:"mx-auto w-100"},dr=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"support",value:"quickness"},null,-1))),fr={class:"col-xl-1 col-4 text-center mx-auto"},vr={class:"mx-auto w-100 h-100"},gr=V((()=>(0,r._)("input",{type:"radio",id:"radio",name:"support",value:"none"},null,-1))),_r=V((()=>(0,r._)("div",{class:"col-xl-6 col-12"},null,-1))),yr={class:"row mb-2 text-center"},Ar=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Name")],-1))),mr={class:"col-xl-9 col-12 text-light d-flex mx-auto"},wr={class:"row mb-2"},Cr=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"Link")],-1))),br={class:"col-xl-9 col-12 text-light d-flex mx-auto"},Er={class:"row mb-2"},xr=V((()=>(0,r._)("div",{class:"col-xl-3 col-12 text-light d-flex mx-auto"},[(0,r._)("h5",{class:"bottom mx-auto"},"chatCode")],-1))),kr={class:"col-xl-9 col-12 text-light d-flex mx-auto"},Ir={class:"row my-3 ps-2"},Tr=V((()=>(0,r._)("h5",{class:"bottom mx-auto"},"Add",-1))),Sr=[Tr],Pr=V((()=>(0,r._)("div",{class:"col-3"},null,-1))),Dr=V((()=>(0,r._)("div",{class:"col-3"},null,-1)));function Nr(e,t,n,V,_e,Wn){const Yn=(0,r.up)("builder");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",{onClick:t[0]||(t[0]=e=>{Wn.getAll(),Wn.hider()}),class:(0,i.C_)(["col-3 bg-primary text-center text-light mx-auto mb-3",_e.hide])}," get all ",2),1==_e.check?((0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("div",Z,[(0,r._)("div",J,[X,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.guardian[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{class:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))]),(0,r._)("div",$,[ee,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.revenant[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{class:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))]),(0,r._)("div",te,[ne,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.engineer[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{class:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))]),(0,r._)("div",re,[ie,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.ranger[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{class:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))]),(0,r._)("div",oe,[ae,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.mesmer[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{cclass:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))]),(0,r._)("div",se,[le,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.necromancer[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{class:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))]),(0,r._)("div",ue,[ce,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.thief[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{class:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))]),(0,r._)("div",he,[pe,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.elementalist[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{class:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))]),(0,r._)("div",de,[fe,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.jsonz.warrior[0],(e=>((0,r.wg)(),(0,r.j4)(Yn,{class:"",key:e,name:e.name,link:e.link,chatCode:e.chatCode,type:e.type,support:e.support,profession:e.profession},null,8,["name","link","chatCode","type","support","profession"])))),128))])]),(0,r._)("div",ve,[ge,(0,r._)("div",{class:"col-6 roundedz-top mx-auto bg-primary",onClick:t[1]||(t[1]=(...e)=>Wn.addBuild&&Wn.addBuild(...e))},ye),Ae,me,(0,r._)("div",we,[(0,r._)("div",Ce,[be,(0,r._)("div",Ee,[(0,r._)("label",xe,[ke,(0,r._)("img",{onClick:t[2]||(t[2]=e=>_e.clazz="guardian"),class:"w-100",src:a})])]),(0,r._)("div",Ie,[(0,r._)("label",null,[Te,(0,r._)("img",{onClick:t[3]||(t[3]=e=>_e.clazz="revenant"),class:"w-100",src:s})])]),(0,r._)("div",Se,[(0,r._)("label",null,[Pe,(0,r._)("img",{onClick:t[4]||(t[4]=e=>_e.clazz="ranger"),class:"w-100",src:u})])]),(0,r._)("div",De,[(0,r._)("label",null,[Ne,(0,r._)("img",{onClick:t[5]||(t[5]=e=>_e.clazz="engineer"),class:"w-100",src:l})])]),(0,r._)("div",Re,[(0,r._)("label",null,[Oe,(0,r._)("img",{onClick:t[6]||(t[6]=e=>_e.clazz="mesmer"),class:"w-100",src:c})])]),(0,r._)("div",Be,[(0,r._)("label",null,[Le,(0,r._)("img",{onClick:t[7]||(t[7]=e=>_e.clazz="thief"),class:"w-100",src:p})])]),(0,r._)("div",Qe,[(0,r._)("label",null,[Fe,(0,r._)("img",{onClick:t[8]||(t[8]=e=>_e.clazz="necromancer"),class:"w-100",src:h})])]),(0,r._)("div",Me,[(0,r._)("label",null,[qe,(0,r._)("img",{onClick:t[9]||(t[9]=e=>_e.clazz="warrior"),class:"w-100",src:f})])]),(0,r._)("div",ze,[(0,r._)("label",null,[je,(0,r._)("img",{onClick:t[10]||(t[10]=e=>_e.clazz="elementalist"),class:"w-100",src:d})])])]),"guardian"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",Ue,[He,(0,r._)("div",We,[(0,r._)("label",Ye,[Ke,(0,r._)("img",{class:"w-100",onClick:t[11]||(t[11]=e=>_e.profession="dragonhunter"),src:v})])]),(0,r._)("div",Ve,[(0,r._)("label",Ge,[Ze,(0,r._)("img",{class:"w-100",onClick:t[12]||(t[12]=e=>_e.profession="firebrand"),src:g})])]),(0,r._)("div",Je,[(0,r._)("label",Xe,[$e,(0,r._)("img",{class:"w-100",onClick:t[13]||(t[13]=e=>_e.profession="willbender"),src:_})])]),et])):(0,r.kq)("",!0),"revenant"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",tt,[nt,(0,r._)("div",rt,[(0,r._)("label",it,[ot,(0,r._)("img",{class:"w-100",onClick:t[14]||(t[14]=e=>_e.profession="herald"),src:y})])]),(0,r._)("div",at,[(0,r._)("label",st,[lt,(0,r._)("img",{class:"w-100",onClick:t[15]||(t[15]=e=>_e.profession="renegade"),src:A})])]),(0,r._)("div",ut,[(0,r._)("label",ct,[ht,(0,r._)("img",{class:"w-100",onClick:t[16]||(t[16]=e=>_e.profession="vindicator"),src:m})])]),pt])):(0,r.kq)("",!0),"ranger"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",dt,[ft,(0,r._)("div",vt,[(0,r._)("label",gt,[_t,(0,r._)("img",{class:"w-100",onClick:t[17]||(t[17]=e=>_e.profession="druid"),src:w})])]),(0,r._)("div",yt,[(0,r._)("label",At,[mt,(0,r._)("img",{class:"w-100",onClick:t[18]||(t[18]=e=>_e.profession="soulbeast"),src:C})])]),(0,r._)("div",wt,[(0,r._)("label",Ct,[bt,(0,r._)("img",{class:"w-100",onClick:t[19]||(t[19]=e=>_e.profession="untamed"),src:b})])]),Et])):(0,r.kq)("",!0),"engineer"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",xt,[kt,(0,r._)("div",It,[(0,r._)("label",Tt,[St,(0,r._)("img",{class:"w-100",onClick:t[20]||(t[20]=e=>_e.profession="scrapper"),src:E})])]),(0,r._)("div",Pt,[(0,r._)("label",Dt,[Nt,(0,r._)("img",{class:"w-100",onClick:t[21]||(t[21]=e=>_e.profession="holosmith"),src:x})])]),(0,r._)("div",Rt,[(0,r._)("label",Ot,[Bt,(0,r._)("img",{class:"w-100",onClick:t[22]||(t[22]=e=>_e.profession="mechanist"),src:k})])]),Lt])):(0,r.kq)("",!0),"mesmer"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",Qt,[Ft,(0,r._)("div",Mt,[(0,r._)("label",qt,[zt,(0,r._)("img",{class:"w-100",onClick:t[23]||(t[23]=e=>_e.profession="chronomancer"),src:I})])]),(0,r._)("div",jt,[(0,r._)("label",Ut,[Ht,(0,r._)("img",{class:"w-100",onClick:t[24]||(t[24]=e=>_e.profession="mirage"),src:T})])]),(0,r._)("div",Wt,[(0,r._)("label",Yt,[Kt,(0,r._)("img",{class:"w-100",onClick:t[25]||(t[25]=e=>_e.profession="virtuoso"),src:S})])]),Vt])):(0,r.kq)("",!0),"thief"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",Gt,[Zt,(0,r._)("div",Jt,[(0,r._)("label",Xt,[$t,(0,r._)("img",{class:"w-100",onClick:t[26]||(t[26]=e=>_e.profession="daredevil"),src:P})])]),(0,r._)("div",en,[(0,r._)("label",tn,[nn,(0,r._)("img",{class:"w-100",onClick:t[27]||(t[27]=e=>_e.profession="deadeye"),src:D})])]),(0,r._)("div",rn,[(0,r._)("label",on,[an,(0,r._)("img",{class:"w-100",onClick:t[28]||(t[28]=e=>_e.profession="specter"),src:N})])]),sn])):(0,r.kq)("",!0),"necromancer"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",ln,[un,(0,r._)("div",cn,[(0,r._)("label",hn,[pn,(0,r._)("img",{class:"w-100",onClick:t[29]||(t[29]=e=>_e.profession="reaper"),src:R})])]),(0,r._)("div",dn,[(0,r._)("label",fn,[vn,(0,r._)("img",{class:"w-100",onClick:t[30]||(t[30]=e=>_e.profession="scourge"),src:O})])]),(0,r._)("div",gn,[(0,r._)("label",_n,[yn,(0,r._)("img",{class:"w-100",onClick:t[31]||(t[31]=e=>_e.profession="harbringer"),src:B})])]),An])):(0,r.kq)("",!0),"warrior"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",mn,[wn,(0,r._)("div",Cn,[(0,r._)("label",bn,[En,(0,r._)("img",{class:"w-100",onClick:t[32]||(t[32]=e=>_e.profession="berserker"),src:L})])]),(0,r._)("div",xn,[(0,r._)("label",kn,[In,(0,r._)("img",{class:"w-100",onClick:t[33]||(t[33]=e=>_e.profession="spellbreaker"),src:Q})])]),(0,r._)("div",Tn,[(0,r._)("label",Sn,[Pn,(0,r._)("img",{class:"w-100",onClick:t[34]||(t[34]=e=>_e.profession="bladesworn"),src:F})])]),Dn])):(0,r.kq)("",!0),"elementalist"==_e.clazz?((0,r.wg)(),(0,r.iD)("div",Nn,[Rn,(0,r._)("div",On,[(0,r._)("label",Bn,[Ln,(0,r._)("img",{class:"w-100",onClick:t[35]||(t[35]=e=>_e.profession="tempest"),src:M})])]),(0,r._)("div",Qn,[(0,r._)("label",Fn,[Mn,(0,r._)("img",{class:"w-100",onClick:t[36]||(t[36]=e=>_e.profession="weaver"),src:q})])]),(0,r._)("div",qn,[(0,r._)("label",zn,[jn,(0,r._)("img",{class:"w-100",onClick:t[37]||(t[37]=e=>_e.profession="catalyst"),src:z})])]),Un])):(0,r.kq)("",!0),""==_e.clazz?((0,r.wg)(),(0,r.iD)("div",Hn,Kn)):(0,r.kq)("",!0),(0,r._)("div",Vn,[Gn,(0,r._)("div",Zn,[(0,r._)("label",Jn,[Xn,(0,r._)("img",{onClick:t[38]||(t[38]=e=>_e.type="power"),class:"w-100",src:j})])]),(0,r._)("div",$n,[(0,r._)("label",er,[tr,(0,r._)("img",{onClick:t[39]||(t[39]=e=>_e.type="condi"),class:"w-100",src:U})])]),(0,r._)("div",nr,[(0,r._)("label",rr,[ir,(0,r._)("img",{onClick:t[40]||(t[40]=e=>_e.type="heal"),class:"w-100 p-1",src:H})])]),or]),(0,r._)("div",ar,[sr,(0,r._)("div",lr,[(0,r._)("label",ur,[cr,(0,r._)("img",{onClick:t[41]||(t[41]=e=>_e.support="alac"),class:"w-100",src:W})])]),(0,r._)("div",hr,[(0,r._)("label",pr,[dr,(0,r._)("img",{onClick:t[42]||(t[42]=e=>_e.support="quick"),class:"w-100",src:Y})])]),(0,r._)("div",fr,[(0,r._)("label",vr,[gr,(0,r._)("img",{onClick:t[43]||(t[43]=e=>_e.support=""),class:"w-100",src:K})])]),_r]),(0,r._)("div",yr,[Ar,(0,r._)("div",mr,[(0,r.wy)((0,r._)("input",{class:"w-100 roundedz text-xl-left text-light bg-dark ps-xl-3",type:"text",name:"name","onUpdate:modelValue":t[44]||(t[44]=e=>_e.name=e)},null,512),[[o.nr,_e.name]])])]),(0,r._)("div",wr,[Cr,(0,r._)("div",br,[(0,r.wy)((0,r._)("input",{class:"w-100 roundedz text-xl-left text-light bg-dark ps-xl-3",type:"text",name:"link","onUpdate:modelValue":t[45]||(t[45]=e=>_e.link=e)},null,512),[[o.nr,_e.link]])])]),(0,r._)("div",Er,[xr,(0,r._)("div",kr,[(0,r.wy)((0,r._)("input",{class:"w-100 roundedz text-xl-left text-light bg-dark ps-xl-3",type:"text",name:"chatcode","onUpdate:modelValue":t[46]||(t[46]=e=>_e.chatCode=e)},null,512),[[o.nr,_e.chatCode]])])]),(0,r._)("div",Ir,[(0,r._)("div",{onClick:t[47]||(t[47]=(...e)=>Wn.addBuild&&Wn.addBuild(...e)),class:"col-xl-3 col-4 mx-auto text-center text-light border border-primary roundedz pt-2 pb-1 grow hoverBtn"},Sr)])]),Pr,Dr])])):(0,r.kq)("",!0)],64)}var Rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAHOBJREFUeNrs3b12G0l6BuDWjILNjFDZQJmzgTJnBENHojI7EpitI5FXQPIKSF4BocjHkaDIx5HAbDO1rkCYjI6MyTZ0lVDa0Wg0kkjip36e55w+0EwEfuju763q6u4HHazZaDQah49h2n4O2yBtI9WBqvVhW6btXdgWcev7fq40+XmgBNyz2cemPk6N/mPjB/jcIgWE67DNQyjolUQAoKyGP0yN/mn6HKgKcAdxliDODLxOgWChJAIAeTb9g7A970zjA5sRZwRehm0mDAgA7L7xf2z6B6oBbNEszgyEIDBVCgGA7TX9OKV/lBr/UEWAHYqXCS7DdhHCwFI5BAA20/hjsz9Jo33X9YHcxNmAM5cHBADW3/gnqgEIAgIA9Tf+j1P9L4z4gQKddS4NCADcuvnH0f65xg8ULjb/Y4sFBQC+3fiH4eOqW92/D1CLeQoCHi50Cz8qQTPNP073/2fY/lk1gMrEwc1fHz169ODm5mauHGYAMOoH2hNnAZ5ZJPhtPyhB1c0/3tL3VvMHWjr1xfNeOv/xFS4B1Nv84yK/i7D9RTWAxsTz3r89evRocHNz8z/K8WUuAdTX+OPK/ldG/QAfxEsC+24X/COXAOpq/nHq643mD/DbqbFbXRLwIjMzANU3f/f2A/zRMs0EuFXQDIDmD9CQeH58Y3HgbywCLL/5j8PHf2v+AN/0cXHgLzc3N83PBAgA5Tf/N52V/gC3cSAEWANQcvM37Q9wP/GBQTMBAM0foC1NLwwUAMpr/sNu9XQ/zR9ACLgzdwGU1fw/PuRH8wdYj3g+vUrnVwGAbMWX+niYBcCax1dpcNUUdwGUM/o/DR9/VQmAjRi29u4AawDKaP7jbrXoD4DNaubOAAEg/+Yfr0u971z3B9iGuCjwSQgBi9r/UGsA8nel+QNszSCdd6tnDUDeo//4zOpTlQDYqrge4Nebm5u/1fxHugSQb/M39Q+wO9VfCnAJIF+m/gF2p/pLAQJAnqP/cfjwykqA3RrX/PpglwDyDABx6n9Y4Z8WH7W5TJ+/+qWhGntpxFzjg8oW3epSwLK2P+yh/Ta75n9UUfOfh+11bPjB3K8LTZzDxikIxFBQw+g5no/jefnUDACbPHBqWPgXG/3LsM1qTMzArc9pMQQ8LTwMxHPZ49rOaWYA8nJUcPOfhu2shYdnAN8nNcx4bpimN5mepCBQ2nluUOMsgBkAo3+NH9j2ue48bBOzALvlLgCj/zuH+261MOZQ8wduMysQzxuxmXarS4alzQKYAWDtqbiklf9xxH/qVwPWcO6LTfWkkAFQVbMAZgDyOAAmhTT/RRr1a/7AumYELsLHfreaVSxhFqCa5wIIAHl4UcJxmpp/7+cC1hwC+hQCSngN70ktdXcJYPej/3i/7NvMv+Y0bMdu6wO2cE6Mj9+dZP4192t4tokZgN17nnvzTwv9NH9gG7MBh2nQ4bwtAFQv56Q7SwcjgBDwm4N0O6MAwN2kl0zkuhPFa3KaP7DLEDDP9OtVsRhQANitp5l+rzjdv2/aH9ixZ93q7iPnbwGgOrkmyGeaP5DBLMAyhYAcjUuvr7sAdii9NSu70b9b/YDMzpWnXZ6338XB0qzUugoAAJQQAuLt0qPMvtZFCADHpdbUJQAASpBjox2XXFABAIDspQfvTDP7WqOSbwcUAAAoxZlZAAEAgPZmARY5zgIIAACweZeZfZ89AQAANj8LEG9TzulWZTMAALAlLzP6LoNSFwIKAACUJreH7xQ5CyAAAFCUtBgwp8sAQwEAALZjLgAIAAC05zqj7/KTAAAA2+ESgAAAQHPdf7UOAAEAgAbNM/kebgMEgAa5DRAAtmipBAIAAO15pwQCAAAgAAAAAgAAIAAAgAAAADTnoRLkaTQajbvV4yXj9lP326Mmx6pDoeKjW5fpM67e7iNlAQGg5WY/So19r1s9UGKoKtS4q38eYle7/oenub2OnwIBCAC1N/xhOgk+TZ8DVaFh44+hIBwbi/AxC9tLYQAEgJqa/kHYnneFPjYStiAeJ0dxS2HgZdimXvwCAkCJjX+Smv5YNeDWYeAkbuE4irMClyEIzJUFBIDcR/svwhabv+l9uL84e3aQZgXOQhCYKgncj9sA19z4w3YV/vm+W01jav6w/lmBq3CcvU+za4AAkE3jd1KC7QWBt+mWWeCWXAK4X+OPI/xzTR92dxiG7U1aI3DY973Xw4IZgI03/yMjfshGXCPwPh2XgBmAjTT+cRr1u5UP8vJhRi4co3tmA8AMwDob/yBssfG/0fyhiNkAxykIAPdu/qPU+E0vQjmzAW/dKQACwH2af2z6b436oUjxToFTZQAB4DaNf5Bu7TtXDSjaSTqWAQHgm81/2K2m/CeqAVWYCAEgAHyr+cepflP+IASAANBQ85+kkb9H+IIQAAJAQ83/SvMHIQAEgPaaPyAEgACg+QNCAAgAmj8gBIAAUHzzP9D8ASEAAaCt5j/S/AEhAAGgreY/7NzqBwgBCABNNf/Y9F9p/oAQgADQlvhcf0/4A4QABICGRv+TzrP9ASEA2gkAadGft/oBQgA0NgPgEb+AEAAtBYBw8J52rvsDQgC0EwDS1P+JnxkQAqCtGQDX/QEhAFoKAGnV/9hPDAgB8EcPK23+g4pH/4u09WH71S5M5p6HbVhhCOj6vj/08yIA5Oeoq2fV/zxs1/EznHDmdlkKC+Pxo8Z1OEIAAkCGJ5xhBSec2Ohfhm0WTjBLuykIASAAfFvJzX8atrNwQlnYNUEIAAHgdqP/icYPCAHQ1gzAi8K+7zxsx+HE0dsVQQgAAeBuo/9BYaP/2Pgv7IIgBMAu1PQcgNj8S1j5vwjbE80fqg0BnhOAALBlJUz/z1PzN+UPQgAIAPcVDraDLv+HjUxD3993Wx8IASAArM/TApq/64IgBIAAsMbRf+6L/zR/EAJAANiAg4y/W6/5gxAgBCAAbEau0/+LsO3bxQAhAAFgzdL0f64zAM8s+AOEAASAzRhn+r3O3OoHCAEIAJuT4/R/7P2ndi1ACEAAaGsG4NhuBQgBCAAbkt78N8zsa8Vb/uZ2K0AIQADYYAbI8Dud2aUAIQABoK0AEEf/C7sUIAQgAGzWXmbf56XdCRACEADamgFYuPYPCAEIAJvu/KsHAA0y+kqXdiVACEAAaGv0H83sSoAQgACwecOMvktv8R8gBCAAtBcA5nYjQAhAANiOnzL6Ltd2I0AIQABobwbAS38AIQABoDWu/wNCAALA9uRyC6DRPyAEIABsUS63AS7tQoAQgADQHgEAEAIQABr0TgkAIQABAAAhAAEAACEAAQAAIQABAAAhAAEAACEAAQAAIQABAAAhAAEAACEAAQAAIQABAMjGQgmEAAQAQABACEAAABrghVlCAAIA0Jo+UAUhAAEAaDQHKIEQgAAAtGehBEIAAgDQnmslEAIQAID2zJVACEAAABqTFgK6G0AIQAAAzAIgBCAAAC14rQRCAAIA0J6ZEggBCABAY/q+XwoBQgACANAmlwGEAAQAoMFZgGnnbgAhAAEAaNKlEhQVAk6VQQAAWIepEhTlJISAiTIIAAD30vf9QggozlUIASNlEAAA7utMCYrzJmSAgTIIAAD3nQW4UImixOb/ShkEAIB1zAK4I6As49FodKQMAgDAfWYBlp1LASWKiwKHyiAAANwnBMTLAL1KFCVeCjhXBgEA4L4OlaA4B6PRaKwMAgDAfWYB4gzAsUoUx1MCBQCAe4eAeClgrhJFGXpAkAAAsA7PwrZQhqKcKIEAAHDfWYBlCgFuDTQLgAAANBYC4noAiwLNAiAAAA2GgJkQYBYAAQBoMwRMhYCiPFcCAQBACGjP2NsCBQAAIaBNL5RAAABYdwhwd0D+DpRAAABYdwiICwP3O+8NyNlgNBoJAQIAwNpDQJ9CwEw1svVUCQQAgE2EgGXY4uWA+O4AlwTyYwZAAADYaBCI7w540nl/QG5cBhAAADYeAhZhi5cEDs0GZGVPCQQAgG0EgWn4eBy2M0EgC2MlEAAAthUC4tqAU0EgC/GZQANlEAAAdhUE4kLBharsJgQogQAAsKsgcBG2GATiOoGpWYGtGitBGR4qAVBxGJh3q7sFDtMK9bhILX4OVWdjflYCAQAgpzAQHyIUt+MQBmIAGKVtLwUCoWA91FEAAMg2DCy61RqB3z1ZML3V7uMitk//nbsYYsaZfBdrAAQAgOKCwafvG5iX8r1TcHnrF+Q2LAIEqCO4LDILJAgAAGxBTi9K8iyAArgEQJce3BET+zhsP3UW8ZToOo0A+8+msWnHOyVAAOB7G/+kW73C0ws8yjf+5HddpNHgS2GgKQslQADgW6P9o7C96EzT1WqYfuOj8HvPw+dZuh8e4B+sAWir+ceRflwpfKL5NzUz8Cb89lee0Q4IAG02//Pw8apzfb9Vkxj+rM4GBIB2Gv8gbHHUf6QazRumEDBRCkAAqLz5h483nSdz8XtXQgAgANTtlebPV0KAuz9AAKDC0X+85j9WCb4RAobKAAIA9TT/2Phd8+db4iWiK2UAAYCKRnZKwHcaWw8AAgB1jP7jyXyoEtzCiRKAAICTOe0ZmgUAAYCyR/8HRv/c0QslAAGAcj1VAu6eH90RAAIApXJfN/YfQABobPgWR29e9sJ97CkBCACUZ6gE2IcAAaA9YyXgnjw2GgQAAEAAAAAEAABAAAAABAB2ZK4E3FOvBCAAUJ6FEmAfAgSA1oZufR9P3kuV4B6ulQAEAMo0UwLsP4AA0J7XSsAd9WkWCRAAKPAMHkdwTuLcxaUSgABA2c6UgFtahPA4VQYQACh7FmBqFgChERAA2nSoBHynudE/CADUMwswDx8XKsE3LIVFEACoLwQcd54OyNc9s/IfBAAqPcF3Hu/Klx2mmSJAAKDCWYA4xbtvJoBPLFPznyoFCABUHgLCFkOANQEsYiDU/AEBoK0gcJxmAxaq0aQYAJ/Ex/0pBRA9VIKmQsA8fDwejUan4fN52IaqUr34mx9r/IAAQAwCMQCchiAwCZ9Pw3agKlVZdKsX+1xa5Q8IAHwpCEzDR9y6EAbG4SNu/xT/U3WKc50a/1zTBwQAbhMG5p27BQCaYREgAAgAAIAAAAAIAACAAAAACAAAgAAAAAgAAIAAAAAIAACAAAAACAAAgAAAAAgAAIAAAAAIAACAAAAACAAAIAAAAAIAACAAAAACAAAgAAAAAgAAIAAAAAIAACAAAAACAAAgAAAAAgAAIAAAAAIAACAAAAACAAAgAACAAAAACAAAgAAAAAgAAIAAAAAIAACAAAAACAAAgAAAAAgAAMAWPFQCPjUKwsdAJWhAHyyVAQGAVhv+QfjYC9s4/qeK0Nj+vwgf87Bdh20mECAAUPtJL47wj8L2PGxDFaFhcf+fpO08HBuz8HkWgsBCaaidNQDtNf/T8PE+bCeaP/zOIAWB9+E4uUpBGQQAim/80dvU+J3Y4Os+BoEDpUAAoOTmH09mbzrX+OG2MwKvwvFzrhQIAJTa/K+M+uHOjuIlAWVAAKDE5g/cz0QIQACglOY/0vxh7SHgSBkQAMi5+X+4dqkSsHbnKVyDAECW3OIHmyNcIwCQ5eg/Nn7TlLA5Q5cCEADIdfQPOM5AAGhs9D9RCdi4QbrLBgQAsuCpZbA9T5UAAYBcPFcC2F7g9r4ABAB2Lp2I3J4E2zVWAgQAdp4BlAAcdyAAtGeoBLB1PysBAgACALTHGgAEAABAAAAABAAAQABgExZKAI47EACciIDN+0UJEADYqb7v56oAW+e4QwDAyQgEbxAA2I3XSgBbM1MCBAByMVUC2JqXSoAAQBb6vl8KAbAVi3C8mQFAACArZ0oAjjMQANqbBVg4OcFGzcNxNlUGBABydBGzgDLA2sXLbMfKgABArrMA8SR1mE5WwPoch+NLuEYAIOsQEE9Sz1QC1ubM1D8CAKWEgLmZAFiLi3A8nSoDAgAlhYA4YtkXAuDODsNx5Lo/AgBFhoB4OeBx51HBcBuLsD0x7U+tHipBMyEgzgDsj0ajg/B5HrahqsAXxWPl0pQ/ZgCoLQjMwhZnA+LaAKuZ4fcj/vgMjceaP2YAqDkITMPHdDQaxZmAOCvwNGyjsA1Uh4bMUxB+6fY+BABaCwJx1HORtg9CKBirDPXv+r2FsQgA8NmZca4KAHWzBgAABAAAQAAAAAQAAEAAAAAEAABAAAAABAAAQAAAAAQAAEAAAAAEAABAAAAABAAAQAAAAAQAAEAAAAAEAAAQAAAAAQAAEAAAAAEAABAAAAABAAAQAAAAAQAAEAAAAAEAABAAAAABAAAQAAAAAQAAEAAAAAEAABAAAEAAAAAEAABAAAAABAAAQAAAAAQAAEAAAAAEAABAAACAO/pZCQQAANozUIK7e6gEjEajYfgYpzQ9+vi/HVxUap4+F2F7F/+7D5SFNexTAgBFNP3Y3CdhexG2oYrQkPEXjodl+JiG7TJkgYUSlftb8v1cAmiw8YftPPzz/8J2rvnDBzEQH4XtfTg+3oRtpCTZn8ucuwQAbnHAfDjBpRMd8OejyrcxKKeZMjI9pWX0XYq8hCQAtDPqf5VG/E5o8H1iUDYbkK+9jL7LrwIAWTb/eBIL24FqwJ1GmUJAnsYZfZeFAECuzd/JC+5uIARkd24bZnZeEwDQ/EEIYAtym9G0BoCsnGv+sPYQcGVhYBZeZPRdln3fLwUAchn9x3Q8UQlY/+EVthNl2On5bdzldftysQ+REgDqOzgGafQPbMaRSwE79Tyz73MtAJDNyanzcB/YNCF7NwOceG6bZPa1zAAgHUNDxmYBBK9kLgCQQzo+MPqHrXmhBFs9v427DFf/l7oAUACoz1MlgK3xcC2j/3nJBRUAnJCAuxm4DLC10f9pl+dtzdcl11UAqOcAiQeH+5Nhu8ZKsPFzW6xxjrdexvv/ZwIAORgqAWzdT0qw0eYfBzWvMv16s9LrKwBUdKwoATjuKmv+8XHmuc5svhYAAGD9rjIOWMVP/wsAAOQ4+o/NP+dFzbMa6vzQrgZAJo1/kEb+ud/RdCkAAMD6mn8JrzCPD//pa6i5SwD1mCsBbN21Eqyl+Y/Dx/uujEWVl7XUXQCox0IJwHFXYPM/7fJe7f+p+NjfWS21FwAq0ff9wskItm6uBHcf9YctjvpPCvralyU/+/9z1gDUdzKaKANsZ/Sfgje3a/zDbvVc/9IeXR4b/0VNv4UAUJeXAgBs9XjjFiP+bvUGxVLfWVLV6F8AqEzYOefhIIsjkqFqwMZNleC7RvsHqfGXfF6qbvQfWQNQnzMlgM03f9P/X/UiNP+33Wpl/3kFg5LqRv8CQJ2zAHFU0qsEbHQ0KGh/XRz11/KehLjW47TGH0kAqNOhEsDGnBn9N+W41j9MAKhzFqCveaeFHZqFw+tCGZr6vWe1/nECQL0hIJ6kpioB6zusOrNrLVnWPpASAOoOAYdCAKyt+e/XuBCMP1X9pR4BQAgANH9+b97CpR4BoJ0QYE0A3N5U829O/K2ftfCHCgDthICYZp90nl0O32MRm0AMz5p/c5618psLAG2FgGi/Wy1kWqgIfHH0F+/xf1Lz6m/+VLzu38wgyaOA2wwC0/AxTc/mft6tHtoxUBkaFpv963Rs0Og+UOsDfwQAvhQEYtKN22EIA/GpXXEbhu2funqe4gWfW4TtlzTa71sa8fHnp8OuwVs8BQA+hoG+8whhoD0fFv21uNbDGgAAWm7++60+2lkAAKDl5t/szKcAAECLnrXc/AUAAFod+c9bL4RFgAC01vwteDYDAIDmLwAAQI1i03+i+QsAALRj1jV8q9/XWAMAQK3OWnu8rwAAQMvi9f5DL3QSAABox7xr9NG+AgAArY7645T/hVIIAAC0M+o/tNBPAACgDbHhH7vWLwAA0IY43X8ZtgvX+gUAADR+BAAANH4EAABKtEiNf6rxCwAA1G8atpde2SsAAFC/uJL/dfw02hcAAKjXolvdvx+b/lzTFwAAqFNs9vF1vO9Sw18oiQAAQF2mYfslNf1laPa9kggAANTPAr4C/KAEACAAAAACAAAgAAAAAgAAIAC06GclADIxUgIEgO0ZKAHgfIQAsD29Aw4gWwslEAA2JZdnRptyA3Kxl80IzWN+BYAWjEajoSoAGXAuookAkFO6NAsA7HogMsgoABj9CwAb9UtG32XPbgTs2NgAjVYCwNKBB5DlQGTp5xAANimnV0uOrAMAduwgo+/yzs8hALQSAHI7+ICGxBFIl9cCwIVfRQDYXPfv+zjFlNM003O7EuD8IwAIAO3NAsQQPrY7ATswyWyANveTCAAtBQCzAMAuRh6x+ef0RNLeryIAbMN1bincYkBgy04y+z5G/wJAs0nzxC4FbHH0n9ugwx0AAsAWuv/qWdOLDGcBxnYrYMPNP077n2f41cwACABN72znditgw+JsY25vI114CZAAsE2v8wzno1O7FrChE8w4fBxl+NVmfh0BoPUZgA/pPD2cA2CdzT+O+q8y/XrXfiEBYGvSA4FyTZ2v0sEKsC6x+Q8z/F7LcD42AyAAbN3rTL9XPEhf2cWANY3+T7t8Hzuu+QsAdrzPjMNBe2U3A+7Z/Cdd3rcZv/YrlefH0v+Am5ubvz969CiOtnO95j6K3y98TwcIcNfmn/NAIk7/H/qlzABIn182MRMAVNj8o6lfqkwPKjpQ3nd5Lo751Dxsz9LiRYCvndNOuzKeLvrY/f9mAHbtZQHfcRy2N24RBL7S+Adhe1VI859r/gJADi7CVsLIepRCwJHdD/is+cdBwtsu39X+nzvzq5XrQWUHT7xWNinoK8/DdhwStFdoQuOj/jTiL2lgEB/9+9ivZwZAGr2bD2k/BhevEoZmm/9p+HhfWPM3+jcDYBZgzabxoHJNDZoY8ceG/7zLf/Gy0b8AUMyBNUxpumTzbrWoceaOAajq/BSv7T/tVtf4S35U+GE4N039ogJAjgfZaVfGCtrvEZ90GF+yEZcKzO2yUNS5KC76jdteBU3/HwOUcC7a9+sKALkedIM0C1Djy3jigsFl+vzVLgzZ+Tmde8aV/n37BiMCQO4hYNLl/wQtgJLEy5LPlKEOP9T6h6XrU26vA1iPOPN4rAwCQCm8oAJgPdyhVJkfa/7jboJHjx7FyxxjPzXAncWFf/+hDGYAihJ22tPOpQCAu4pT/2ZTBYBiHXZlvCcAIDfHpv7r9GMLf2S6FPC/XTkv2ADIwTQ0f4/8FQCKDwF9CAHDbvVQDgC+Ll46/fdw7vy7UtTph8b+3uPOegCAb/lw3d+jyOv2oLU/OL0rIL5ve+DnB/iiZ6H5z5TBDEBV0mKW/c6iQIAvOdT82/Bji3+0RYEAX2TRnwDQRAiIiwJ/EQIA/tH83e8vAAgBAJo/AoAQAKD5IwAIAQCaPwJAbSFgHLa/qAhQuQsv+GnbAyX4vVEQPt50nhMA1Cve6jdVBgGAP4aAYfh41XlsMFCX+PyT+JCfuVLwgxL80ScPC/IwDKCaU1s8r2n+mAH4/tmAo/BxrhJAwabd6rW+noCKAHDLEBAvBVx1LgkAZfn4Uh+zmfyBuwC+Q3p08H91q7sD/kVFgALMw/avofn/TSkwA7Ce2YBxt7okYDYAyHXUf2yVPwLA5oLAafh40bldEMjHtHOtHwFgKyFgkGYDJqoB7NA8Nf5eKRAAthsEhuHjRBAAdtD4z9zahwAgCAAaPwgAOw4CL1IQsEYAWJdp2F5q/AgA+QeB2PzjGwafd6uXDAHc1iJsl2GbpaeUggBQ4KzAxzDgFkLgW01/lkb7FvYhAFQYBvbSzIDLBEBs9K/TSF/TRwBoJBCM06zAXvocqgpUbZka/nW3WtDXu3cfAYBPQ8EwbT+nWYJB5/IBlGKRti41+o9NX7MnC/8vwABi6kZj0zI38wAAAABJRU5ErkJggg==";const Or={class:"container"},Br={class:"row border border-2 border-primary bg-primary roundedz mt-2"},Lr={class:"col-xl-1 col-2 p-1 pt-2 ps-2 roundedz-left"},Qr={key:0,class:"w-100",src:j},Fr={key:1,class:"w-100",src:U},Mr={key:2,class:"w-100",src:H},qr={key:3,src:""},zr={class:"col-xl-1 col-2 p-1"},jr={key:0,class:"w-100",src:W},Ur={key:1,class:"w-100",src:Y},Hr={key:2,src:""},Wr={class:"col-xl-8 col-6 p-1 text-center bg-dark"},Yr=["href"],Kr={class:"col-xl-1 col-0 d-xs-none d-sm-none d-md-none d-lg-none d-xl-inline-block p-1 text-center bg-primary"},Vr={key:0,class:"w-100",src:v},Gr={key:1,class:"w-100",src:g},Zr={key:2,class:"w-100",src:_},Jr={key:3,class:"w-100",src:y},Xr={key:4,class:"w-100",src:A},$r={key:5,class:"w-100",src:m},ei={key:6,class:"w-100",src:w},ti={key:7,class:"w-100",src:C},ni={key:8,class:"w-100",src:b},ri={key:9,class:"w-100",src:E},ii={key:10,class:"w-100",src:x},oi={key:11,class:"w-100",src:k},ai={key:12,class:"w-100",src:I},si={key:13,class:"w-100",src:T},li={key:14,class:"w-100",src:S},ui={key:15,class:"w-100",src:P},ci={key:16,class:"w-100",src:D},hi={key:17,class:"w-100",src:N},pi={key:18,class:"w-100",src:R},di={key:19,class:"w-100",src:O},fi={key:20,class:"w-100",src:B},vi={key:21,class:"w-100",src:L},gi={key:22,class:"w-100",src:Q},_i={key:23,class:"w-100",src:F},yi={key:24,class:"w-100",src:M},Ai={key:25,class:"w-100",src:q},mi={key:26,class:"w-100",src:z},wi={key:27,src:""},Ci={class:"col-xl-1 col-2 p-1 roundedz-right bg-primary"};function bi(e,t,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",Or,[(0,r._)("div",Br,[(0,r._)("div",Lr,[n.type==a.pdps?((0,r.wg)(),(0,r.iD)("img",Qr)):n.type==a.condi?((0,r.wg)(),(0,r.iD)("img",Fr)):n.type==a.heal?((0,r.wg)(),(0,r.iD)("img",Mr)):((0,r.wg)(),(0,r.iD)("img",qr))]),(0,r._)("div",zr,[n.support==a.alac?((0,r.wg)(),(0,r.iD)("img",jr)):n.support==a.quick?((0,r.wg)(),(0,r.iD)("img",Ur)):((0,r.wg)(),(0,r.iD)("img",Hr))]),(0,r._)("div",Wr,[(0,r._)("a",{href:n.link,target:"_blank"},[(0,r._)("h5",{onHover:t[0]||(t[0]=(...e)=>s.colorOther&&s.colorOther(...e)),class:"my-2 my-xl-1"},(0,i.zw)(n.name),33)],8,Yr)]),(0,r._)("div",Kr,["dragonhunter"==n.profession?((0,r.wg)(),(0,r.iD)("img",Vr)):"firebrand"==n.profession?((0,r.wg)(),(0,r.iD)("img",Gr)):"willbender"==n.profession?((0,r.wg)(),(0,r.iD)("img",Zr)):"herald"==n.profession?((0,r.wg)(),(0,r.iD)("img",Jr)):"renegade"==n.profession?((0,r.wg)(),(0,r.iD)("img",Xr)):"vindicator"==n.profession?((0,r.wg)(),(0,r.iD)("img",$r)):"druid"==n.profession?((0,r.wg)(),(0,r.iD)("img",ei)):"soulbeast"==n.profession?((0,r.wg)(),(0,r.iD)("img",ti)):"untamed"==n.profession?((0,r.wg)(),(0,r.iD)("img",ni)):"scrapper"==n.profession?((0,r.wg)(),(0,r.iD)("img",ri)):"holosmith"==n.profession?((0,r.wg)(),(0,r.iD)("img",ii)):"mechanist"==n.profession?((0,r.wg)(),(0,r.iD)("img",oi)):"chronomancer"==n.profession?((0,r.wg)(),(0,r.iD)("img",ai)):"mirage"==n.profession?((0,r.wg)(),(0,r.iD)("img",si)):"virtuoso"==n.profession?((0,r.wg)(),(0,r.iD)("img",li)):"daredevil"==n.profession?((0,r.wg)(),(0,r.iD)("img",ui)):"deadeye"==n.profession?((0,r.wg)(),(0,r.iD)("img",ci)):"specter"==n.profession?((0,r.wg)(),(0,r.iD)("img",hi)):"reaper"==n.profession?((0,r.wg)(),(0,r.iD)("img",pi)):"scourge"==n.profession?((0,r.wg)(),(0,r.iD)("img",di)):"harbringer"==n.profession?((0,r.wg)(),(0,r.iD)("img",fi)):"berserker"==n.profession?((0,r.wg)(),(0,r.iD)("img",vi)):"spellbreaker"==n.profession?((0,r.wg)(),(0,r.iD)("img",gi)):"bladesworn"==n.profession?((0,r.wg)(),(0,r.iD)("img",_i)):"tempest"==n.profession?((0,r.wg)(),(0,r.iD)("img",yi)):"weaver"==n.profession?((0,r.wg)(),(0,r.iD)("img",Ai)):"catalyst"==n.profession?((0,r.wg)(),(0,r.iD)("img",mi)):((0,r.wg)(),(0,r.iD)("img",wi))]),(0,r._)("div",Ci,[(0,r._)("img",{onClick:t[1]||(t[1]=(...e)=>s.copyTag&&s.copyTag(...e)),class:"w-100 p-1 invertColor",src:Rr})])])])}var Ei={name:"build_component",data(){return{imgDmg:"",imgSupport:"",pdps:"power",condi:"condi",heal:"heal",alac:"alac",quick:"quick"}},props:{name:{type:Text,required:!1},link:{type:Text,required:!1},chatCode:{type:Text,required:!1},type:{type:Text,required:!1},support:{type:Text,required:!1},profession:{type:Text,required:!1}},methods:{copyTag(){var e=this.chatCode;console.log(this.chatCode),navigator.clipboard.writeText(e)},enableScroll(){var e=document.getElementById("outerdivFullPage");e.style.overflowY="scroll",window.onscroll=function(){return!0}},colorOther(){}},mounted(){this.enableScroll()}},xi=n(3744);const ki=(0,xi.Z)(Ei,[["render",bi],["__scopeId","data-v-6042b53b"]]);var Ii=ki,Ti=JSON.parse('{"array":[{"guardian":[{"dh":{"name":"dh","link":"https://metabattle.com/wiki/Build:Dragonhunter_-_Power_DPS","chatCode":"[&DQEqOhA+GzkmDwAAihIAAEgBAAD+AAAAtRIAAAAAAAAAAAAAAAAAAAAAAAA=]","type":"power","support":"","profession":"dragonhunter"},"cfb":{"name":"cfb","link":"https://metabattle.com/wiki/Build:Firebrand_-_Condi_DPS","chatCode":"[&DQEuHxAaPj1LF0sXFRcVF0wBTAExATEBNwE3AQAAAAAAAAAAAAAAAAAAAAA=]","type":"condi","support":"","profession":"firebrand"},"qfb":{"name":"qfb","link":"https://metabattle.com/wiki/Build:Firebrand_-_Quickness_Support_Condi_DPS","chatCode":"[&DQEQGi4XPjZLF0sXehZ6FhUXTAFMATEBiRKJEgAAAAAAAAAAAAAAAAAAAAA=]","type":"condi","support":"quick","profession":"firebrand"},"hfb":{"name":"hfb","link":"https://metabattle.com/wiki/Build:Firebrand_-_Support_Healer","chatCode":"[&DQExJS4qPjZLF0sXehZ6FkkBNgFLAf4AiRKJEgAAAAAAAAAAAAAAAAAAAAA=]","type":"heal","support":"quick","profession":"firebrand"},"cele":{"name":"cele","link":"http://gw2skills.net/editor/?PWwAc+tlRweYSYmYRL9+sB-zRRYVR39GGaIoOLicLgOSAA-e","chatCode":"[&DQEQGjEvPjZLFwAAehYAAFMXAAAAAAAAGBYAAAAAAAAAAAAAAAAAAAAAAAA=]","type":"condi","support":"quick","profession":"firebrand"}}],"revenant":[{"palac":{"name":"palac","link":"https://metabattle.com/wiki/Build:Renegade_-_Boon_Support_Power_DPS","chatCode":"[&DQkPJgMmPz3cEdwRKxIGEgYSKxLUEdQRyhHKEQUCAgQGEisS1BErEgYS1BE=]","type":"power","support":"alac","profession":"renegade"},"calac":{"name":"calac","link":"https://metabattle.com/wiki/Build:Renegade_-_Boon_Support_Condi_DPS","chatCode":"[&DQkOHQMmPzrcEQAAKxIAAAYSAADUEQAAyhEAAAUEAAArEgYS1BEGEisS1BE=]","type":"condi","support":"alac","profession":"renegade"},"halac":{"name":"halac","link":"https://metabattle.com/wiki/Build:Renegade_-_Boon_Support_Healer","chatCode":"[&DQkMFQMmPz/cEdwRKxIrEgYSBhLUEdQRyhHKEQUGBAArEgYS1BEAAAAAAAA=]","type":"heal","support":"alac","profession":"renegade"},"celetank":{"name":"celetank","link":"xx","chatCode":"[&DQkOHQMmPzrcEQAAKxIAAAYSAADUEQAAyhEAAAUEAAArEgYS1BEGEisS1BE=]","type":"condi","support":"alac","profession":"renegade"},"cdps":{"name":"cdps","link":"https://metabattle.com/wiki/Build:Renegade_-_Condi_DPS","chatCode":"[&DQkOHQMmPzrcEQAAKxIAAAYSAADUEQAAyhEAAAUEAAArEgYS1BEGEisS1BE=]","type":"condi","support":"","profession":"renegade"},"afk herald":{"name":"afk herald","link":"xx","chatCode":"[&DQkOKgk7NBXcEdwR1BErEisSBhIGEtQRyhHKEQEDAQTUESsSBhIrEgYS1BE=]","type":"power","support":"","profession":"herald"},"pdps herald":{"name":"pdps herald","link":"https://metabattle.com/wiki/Build:Herald_-_Power_Quickness_Herald","chatCode":"[&DQkDNg8qNCXcEQAABhIAACsSAADUEQAAyhEAAAECAADUESsSBhIAAAAAAAA=]","type":"power","support":"quick","profession":"herald"},"pylon":{"name":"pylon","link":"http://gw2skills.net/editor/?PmgAUJO6SqPXA-zRRYmRBPcEBnScKgKlA5KEyZEIsB-e","chatCode":"[&DQkOHQMqPy7cEQAAKxIAAAYSAADUEQAAyhEAAAQFAAArEgYS1BEAAAAAAAA=]","type":"condi","support":"alac","profession":"renegade"},"alactank deimos":{"name":"tank deimos","link":"http://gw2skills.net/editor/?PmwAwyZ+AA-zRpYghDbMIB0oDRomQgwBFUG8SgpXBqNL7eGB-e","chatCode":"[&DQkMLw83Pz/cEdwRKxIrEgYSBhLUEdQRyhHKEQUCBAAGEisS1BEAAAAAAAA=]","type":"power","support":"alac","profession":"renegade"}}],"ranger":[{"pslb":{"name":"pslb","link":"https://metabattle.com/wiki/Build:Soulbeast_-_Condi_DPS","chatCode":"[&DQQeHSE3Ny55AAAAvwAAAOkWAAC6AAAALhYAAAMlAAAAAAAAAAAAAAAAAAA=]","type":"power","support":"","profession":"soulbeast"},"cslb":{"name":"cslb","link":"https://metabattle.com/wiki/Build:Soulbeast_-_Condi_DPS","chatCode":"[&DQQeHSE3Ny55AAAAvwAAAOkWAAC6AAAALhYAAAMlAAAAAAAAAAAAAAAAAAA=]","type":"condi","support":"","profession":"soulbeast"},"burst cslb":{"name":"burst cslb","link":"https://metabattle.com/wiki/Build:Soulbeast_-_Hybrid_DPS","chatCode":"[&DQQePSA/Ny55AHkApQGlAekW6Ra/AL8ALhYuFjQlFQAAAAAAAAAAAAAAAAA=]","type":"condi","support":"","profession":"soulbeast"},"hk slb":{"name":"hk slb","link":"https://metabattle.com/wiki/Build:Soulbeast_-_Hand_Kiter","chatCode":"[&DQQhLhkmNxp5AAAANBYAAMIAAACrAQAAlwEAAAAAAAAAAAAAAAAAAAAAAAA=]","type":"heal","support":"","profession":"soulbeast"}}],"engineer":[{"ham":{"name":"ham","link":"https://metabattle.com/wiki/Build:Mechanist_-_Support_Healer","chatCode":"[&DQMvNR0XRiqEAIQAIgGjAJUBlQELGwsbmAGJAQAAAAAAAAAAAAAAAAAAAAA=]","type":"heal","support":"alac","profession":"mechanist"}}],"mesmer":[{"miralac":{"name":"miralac","link":"https://metabattle.com/wiki/Build:Mirage_-_Alacrity_Support_Condi_DPS","chatCode":"[&DQcBJS0dOxnuFSMP4BV/AYEBgQGDAYMBRhe8AQAAAAAAAAAAAAAAAAAAAAA=]","type":"condi","support":"alac","profession":"mirage"}}],"thief":[{"xx":{"name":"xx","link":"xx","chatCode":"xx","type":"xx","support":"xx","profession":"xx"}}],"necromancer":[{"afk":{"name":"afk reaper","link":"xx","chatCode":"[&DQgCFRMfIiqbAJsA5ADkAHYAdgBwAXABlQCVAAAAAAAAAAAAAAAAAAAAAAA=]","type":"power","support":"","profession":"reaper"}}],"warrior":[{"xx":{"name":"xx","link":"xx","chatCode":"xx","type":"xx","support":"xx","profession":"xx"}}],"elementalist":[{"xx":{"name":"xx","link":"xx","chatCode":"xx","type":"xx","support":"xx","profession":"xx"}}]}]}'),Si=n(6099),Pi="firebase",Di="8.10.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Si.Z.registerVersion(Pi,Di,"app"),Si.Z.SDK_VERSION=Di;n(9446);let Ni={apiKey:"AIzaSyDdICBzFRSHuU_JKFUgY4VbSLEooNpVJx4",authDomain:"gw2db-6cb51.firebaseapp.com",databaseURL:"https://gw2db-6cb51-default-rtdb.europe-west1.firebasedatabase.app",projectId:"gw2db-6cb51",storageBucket:"gw2db-6cb51.appspot.com",messagingSenderId:"1004135867206",appId:"1:1004135867206:web:7aa2f45e288ea64deb7b47"};Si.Z.initializeApp(Ni);var Ri=Si.Z.database();let Oi=Ri.ref("/array");class Bi{getAll(){var e;return Oi=Ri.ref("/array"),Oi.on("value",(function(t){t.forEach((function(t){e=t.val()}))})),e}create(e){switch(console.log(e),e.class){case"guardian":Oi=Ri.ref("/array/0/guardian/0");break;case"revenant":Oi=Ri.ref("/array/0/revenant/0");break;case"ranger":Oi=Ri.ref("/array/0/ranger/0");break;case"engineer":Oi=Ri.ref("/array/0/engineer/0");break;case"mesmer":Oi=Ri.ref("/array/0/mesmer/0");break;case"thief":Oi=Ri.ref("/array/0/thief/0");break;case"necromancer":Oi=Ri.ref("/array/0/necromancer/0");break;case"warrior":Oi=Ri.ref("/array/0/warrior/0");break;case"elementalist":Oi=Ri.ref("/array/0/elementalist/0");break}return Oi.push(e)}}var Li=new Bi,Qi={name:"build_view",data(){return{json:Ti,jsonz:"",check:!1,hide:"d-block",clazz:"",profession:"",name:"",link:"",chatCode:"",type:"",support:"",hover:!1}},methods:{addBuild(){var e={name:this.name,class:this.clazz,profession:this.profession,link:this.link,chatCode:this.chatCode,type:this.type,support:this.support};Li.create(e).then((()=>{check=!0})).catch((e=>{console.log(e)})),this.getAll(),this.resetForm()},getAll(){this.jsonz=Li.getAll(),console.log(this.jsonz)},onDataChange(e){let t=[];e.forEach((e=>{e.name;let n=e.val();t.push({name:n.name,link:n.link,chatCode:n.chatCode,type:n.type,support:n.support,profession:n.profession}),this.json=t}))},hider(){this.hide="d-none"},resetForm(){this.clazz="",this.profession="",this.type="",this.support="",this.name="",this.link="",this.chatCode=""}},components:{builder:Ii},mounted(){this.check=!0},beforeDestroy(){},created(){this.getAll()}};const Fi=(0,xi.Z)(Qi,[["render",Nr],["__scopeId","data-v-29c43902"]]);var Mi=Fi}}]);
//# sourceMappingURL=754.138822f5.js.map